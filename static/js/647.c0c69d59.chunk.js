/*! For license information please see 647.c0c69d59.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcareer_path_navigator=self.webpackChunkcareer_path_navigator||[]).push([[647],{647:(e,t,s)=>{s.d(t,{A:()=>F});var l=s(43),r=s(784);const a=(0,r.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),n=(0,r.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var i=s(469);const c=(0,r.A)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),o=(0,r.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),d=(0,r.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),x=(0,r.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),u=(0,r.A)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),h=(0,r.A)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),p=(0,r.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),m=(0,r.A)("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]),y=(0,r.A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),g=(0,r.A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),b=(0,r.A)("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),f=(0,r.A)("redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),v=(0,r.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),j=(0,r.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),k=(0,r.A)("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]),w=(0,r.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),N=(0,r.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),C=(0,r.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),$=(0,r.A)("mouse-pointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),M=(0,r.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),S=(0,r.A)("command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]),A=(0,r.A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),L=(0,r.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),z=(0,r.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),E=(0,r.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),T=(0,r.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),D=(0,r.A)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);var O=s(615),R=s(579);const B=e=>{let{onSuccess:t,onClose:s}=e;const[r,n]=(0,l.useState)(""),[i,c]=(0,l.useState)(!1);return(0,R.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,R.jsx)("div",{className:"relative w-full max-w-md mx-4",children:(0,R.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6",children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,R.jsx)("h3",{className:"text-xl font-bold text-white",children:"\uad00\ub9ac\uc790 \uc778\uc99d"}),(0,R.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:(0,R.jsx)(a,{className:"w-5 h-5"})})]}),(0,R.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"the5151@@@@"===r?t():(c(!0),setTimeout(()=>c(!1),2e3))},className:"space-y-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"\uad00\ub9ac\uc790 \ud328\uc2a4\uc6cc\ub4dc"}),(0,R.jsx)("input",{type:"password",value:r,onChange:e=>n(e.target.value),className:"w-full px-4 py-3 bg-gray-900/50 border rounded-lg text-white placeholder-gray-600 focus:outline-none transition-all "+(i?"border-red-500 shadow-red-500/50 shadow-lg animate-shake":"border-gray-600/50 focus:border-gray-400/50"),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",autoFocus:!0})]}),i&&(0,R.jsx)("p",{className:"text-red-400 text-sm text-center animate-pulse",children:"\uc798\ubabb\ub41c \ud328\uc2a4\uc6cc\ub4dc\uc785\ub2c8\ub2e4"}),(0,R.jsxs)("div",{className:"flex justify-end space-x-3 pt-2",children:[(0,R.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"\ucde8\uc18c"}),(0,R.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"\ud655\uc778"})]})]})]})})})},I=e=>{let{nodeId:t,nodes:s,onClose:r,onUpdate:n,isAdminMode:i}=e;const c=s[t],[o]=(0,l.useState)(t),[d,x]=(0,l.useState)({id:(null===c||void 0===c?void 0:c.id)||t,title:(null===c||void 0===c?void 0:c.title)||"",year:(null===c||void 0===c?void 0:c.year)||"",salary:(null===c||void 0===c?void 0:c.salary)||"",description:(null===c||void 0===c?void 0:c.description)||"",projectType:(null===c||void 0===c?void 0:c.projectType)||"hybrid",skills:((null===c||void 0===c?void 0:c.skills)||[]).join(", "),icon:(null===c||void 0===c?void 0:c.icon)||"\ud83d\udcbc",color:(null===c||void 0===c?void 0:c.color)||"#6B7280",level:(null===c||void 0===c?void 0:c.level)||0,x:(null===c||void 0===c?void 0:c.x)||50});if(!c)return null;return(0,R.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,R.jsx)("div",{className:"relative w-full max-w-2xl mx-4",children:(0,R.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6 max-h-[90vh] overflow-y-auto",children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,R.jsx)("h3",{className:"text-xl font-bold text-white",children:"\ub178\ub4dc \ud3b8\uc9d1"}),(0,R.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:(0,R.jsx)(a,{className:"w-5 h-5"})})]}),(0,R.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i&&d.id!==o&&s[d.id]?alert("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 ID\uc785\ub2c8\ub2e4."):(n(o,{...d,skills:d.skills.split(",").map(e=>e.trim()).filter(e=>e)}),r())},className:"space-y-4",children:[i&&(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"ID (\uc8fc\uc758: \ubcc0\uacbd \uc2dc \uc5f0\uacb0 \uad00\uacc4\uac00 \ub04a\uc5b4\uc9c8 \uc218 \uc788\uc74c)"}),(0,R.jsx)("input",{type:"text",value:d.id,onChange:e=>{const t=e.target.value;x({...d,id:t})},className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",required:!0})]}),(0,R.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc9c1\ubb34\uba85"}),(0,R.jsx)("input",{type:"text",value:d.title,onChange:e=>x({...d,title:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",required:!0})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uacbd\ub825"}),(0,R.jsxs)("select",{value:d.year,onChange:e=>x({...d,year:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",children:[(0,R.jsx)("option",{value:"",children:"\uacbd\ub825 \uc120\ud0dd"}),(0,R.jsx)("option",{value:"1-3\ub144\ucc28",children:"1-3\ub144\ucc28"}),(0,R.jsx)("option",{value:"4-7\ub144\ucc28",children:"4-7\ub144\ucc28"}),(0,R.jsx)("option",{value:"8-12\ub144\ucc28",children:"8-12\ub144\ucc28"}),(0,R.jsx)("option",{value:"13-18\ub144\ucc28",children:"13-18\ub144\ucc28"}),(0,R.jsx)("option",{value:"20\ub144\ucc28+",children:"20\ub144\ucc28+"}),(0,R.jsx)("option",{value:"25\ub144\ucc28+",children:"25\ub144\ucc28+"}),(0,R.jsx)("option",{value:"30\ub144\ucc28+",children:"30\ub144\ucc28+"})]})]})]}),(0,R.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc5f0\ubd09"}),(0,R.jsx)("input",{type:"text",value:d.salary,onChange:e=>x({...d,salary:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",placeholder:"\uc608: 3,500-4,500\ub9cc\uc6d0"})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\ub808\ubca8"}),(0,R.jsx)("input",{type:"number",value:d.level,onChange:e=>x({...d,level:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",min:"0",max:"6"})]})]}),(0,R.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\ud504\ub85c\uc81d\ud2b8 \ud0c0\uc785"}),(0,R.jsxs)("select",{value:d.projectType,onChange:e=>x({...d,projectType:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",children:[(0,R.jsx)("option",{value:"operation",children:"\uc6b4\uc601"}),(0,R.jsx)("option",{value:"construction",children:"\uad6c\ucd95"}),(0,R.jsx)("option",{value:"hybrid",children:"\ubcf5\ud569"})]})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"X \uc704\uce58 (%)"}),(0,R.jsx)("input",{type:"number",value:d.x,onChange:e=>x({...d,x:parseFloat(e.target.value)||50}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",min:"0",max:"100",step:"0.1"})]})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc124\uba85"}),(0,R.jsx)("textarea",{value:d.description,onChange:e=>x({...d,description:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",rows:"3"})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc2a4\ud0ac (\uc27c\ud45c\ub85c \uad6c\ubd84)"}),(0,R.jsx)("input",{type:"text",value:d.skills,onChange:e=>x({...d,skills:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",placeholder:"\uc608: Figma, \ud504\ub85c\ud1a0\ud0c0\uc774\ud551, UX \ub9ac\uc11c\uce58"})]}),(0,R.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc544\uc774\ucf58"}),(0,R.jsx)("input",{type:"text",value:d.icon,onChange:e=>x({...d,icon:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none text-2xl text-center",placeholder:"\uc774\ubaa8\uc9c0"})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc0c9\uc0c1"}),(0,R.jsx)("input",{type:"color",value:d.color,onChange:e=>x({...d,color:e.target.value}),className:"w-full h-10 bg-gray-900/50 border border-gray-700 rounded-lg cursor-pointer"})]})]}),(0,R.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,R.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"\ucde8\uc18c"}),(0,R.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"\uc800\uc7a5"})]})]})]})})})},W=e=>{let{nodes:t,onSelect:s,onClose:r}=e;const[i,c]=(0,l.useState)(""),[o,d]=(0,l.useState)([]);return(0,l.useEffect)(()=>{if(i){const e=Object.values(t).filter(e=>{var t,s,l;return e.title.toLowerCase().includes(i.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(s=e.skills)||void 0===s?void 0:s.some(e=>e.toLowerCase().includes(i.toLowerCase())))||(null===(l=e.salary)||void 0===l?void 0:l.toLowerCase().includes(i.toLowerCase()))});d(e)}else d([])},[i,t]),(0,R.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,R.jsx)("div",{className:"relative w-full max-w-2xl mx-4",children:(0,R.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6",children:[(0,R.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,R.jsx)(n,{className:"w-5 h-5 text-gray-400"}),(0,R.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),placeholder:"\ub178\ub4dc \uac80\uc0c9 (\uc774\ub984, \uc2a4\ud0ac, \uc5f0\ubd09...)",className:"flex-1 px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",autoFocus:!0}),(0,R.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:(0,R.jsx)(a,{className:"w-5 h-5"})})]}),(0,R.jsxs)("div",{className:"max-h-96 overflow-y-auto",children:[o.map(e=>(0,R.jsx)("button",{onClick:()=>{s(e.id),r()},className:"w-full text-left p-3 hover:bg-gray-800/50 rounded-lg transition-colors mb-2",children:(0,R.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,R.jsx)("span",{className:"text-2xl",children:e.icon}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h4",{className:"font-medium text-white",children:e.title}),(0,R.jsxs)("p",{className:"text-sm text-gray-400",children:[e.year," \xb7 ",e.salary]})]})]})},e.id)),i&&0===o.length&&(0,R.jsx)("p",{className:"text-center text-gray-500 py-8",children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"})]})]})})})},K=e=>{let{templates:t,onSelectTemplate:s,onClose:l}=e;return(0,R.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,R.jsx)("div",{className:"relative w-full max-w-md mx-4",children:(0,R.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6",children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,R.jsx)("h3",{className:"text-xl font-bold text-white",children:"\ub178\ub4dc \ud15c\ud50c\ub9bf"}),(0,R.jsx)("button",{onClick:l,className:"text-gray-400 hover:text-white transition-colors",children:(0,R.jsx)(a,{className:"w-5 h-5"})})]}),(0,R.jsx)("div",{className:"space-y-2",children:[{id:"junior",name:"\uc8fc\ub2c8\uc5b4 \ud15c\ud50c\ub9bf",icon:"\ud83c\udf31",data:{level:0,projectType:"hybrid",year:"1-3\ub144\ucc28"}},{id:"senior",name:"\uc2dc\ub2c8\uc5b4 \ud15c\ud50c\ub9bf",icon:"\u2b50",data:{level:2,projectType:"construction",year:"8-12\ub144\ucc28"}},{id:"manager",name:"\ub9e4\ub2c8\uc800 \ud15c\ud50c\ub9bf",icon:"\ud83d\udc54",data:{level:3,projectType:"hybrid",year:"13-18\ub144\ucc28"}},...t].map(e=>(0,R.jsx)("button",{onClick:()=>{s(e.data),l()},className:"w-full text-left p-4 bg-gray-800/50 hover:bg-gray-700/50 rounded-lg transition-colors",children:(0,R.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,R.jsx)("span",{className:"text-2xl",children:e.icon}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h4",{className:"font-medium text-white",children:e.name}),(0,R.jsxs)("p",{className:"text-sm text-gray-400",children:["\ub808\ubca8 ",e.data.level," \xb7 ",e.data.year]})]})]})},e.id))})]})})})},F=e=>{var t,s;let{initialNodes:r,careerType:F,onAdminModeToggle:P,renderBottomPanel:X}=e;const q=(0,O.Zp)(),H=(0,O.zy)(),[V,U]=(0,l.useState)(r),[Y,_]=(0,l.useState)(null),[J,Z]=(0,l.useState)(null),[G,Q]=(0,l.useState)("all"),[ee,te]=(0,l.useState)("target"),[se,le]=(0,l.useState)((null===(t=H.state)||void 0===t?void 0:t.isAdminMode)||!1),[re,ae]=(0,l.useState)(null),[ne,ie]=(0,l.useState)(null),[ce,oe]=(0,l.useState)(!1),[de,xe]=(0,l.useState)(null),[ue,he]=(0,l.useState)(null),[pe,me]=(0,l.useState)(!1),[ye,ge]=(0,l.useState)(!1),[be,fe]=(0,l.useState)(null),[ve,je]=(0,l.useState)({x:0,y:0}),[ke,we]=(0,l.useState)(1e3),[Ne,Ce]=(0,l.useState)(!1),[$e,Me]=(0,l.useState)([]),[Se,Ae]=(0,l.useState)(!1),[Le,ze]=(0,l.useState)(!1),[Ee,Te]=(0,l.useState)(!1),[De,Oe]=(0,l.useState)({x:0,y:0}),[Re,Be]=(0,l.useState)(null),[Ie,We]=(0,l.useState)([]),[Ke,Fe]=(0,l.useState)(-1),[Pe,Xe]=(0,l.useState)(null),[qe,He]=(0,l.useState)(!1),[Ve,Ue]=(0,l.useState)([]),[Ye,_e]=(0,l.useState)(!1),[Je,Ze]=(0,l.useState)(!0),[Ge,Qe]=(0,l.useState)(!1),[et,tt]=(0,l.useState)(!1),[st,lt]=(0,l.useState)(0),[rt,at]=(0,l.useState)(null),[nt,it]=(0,l.useState)(1),[ct,ot]=(0,l.useState)(window.innerWidth),dt=(0,l.useRef)(null),xt=(0,l.useRef)(null),ut=(0,l.useRef)(null),ht=(0,l.useRef)(null),pt=(0,l.useCallback)(e=>{const t=Ie.slice(0,Ke+1);t.push(JSON.parse(JSON.stringify(e))),t.length>50&&t.shift(),We(t),Fe(t.length-1)},[Ie,Ke]),mt=(0,l.useCallback)(()=>{if(Ke>0){const e=Ie[Ke-1];U(e),Fe(Ke-1)}},[Ie,Ke]),yt=(0,l.useCallback)(()=>{if(Ke<Ie.length-1){const e=Ie[Ke+1];U(e),Fe(Ke+1)}},[Ie,Ke]),gt=(0,l.useCallback)(e=>{(1===e.button||0===e.button&&e.shiftKey)&&(e.preventDefault(),Ce(!0),ut.current={x:e.clientX-ve.x,y:e.clientY-ve.y})},[ve]),bt=(0,l.useCallback)(e=>{Ne&&ut.current&&je({x:e.clientX-ut.current.x,y:e.clientY-ut.current.y})},[Ne]),ft=(0,l.useCallback)(()=>{Ce(!1),ut.current=null},[]),vt=((0,l.useCallback)(()=>{je({x:0,y:0})},[]),(0,l.useCallback)(e=>{if(2===e.touches.length){const t=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY);lt(t)}else 1===e.touches.length&&(ht.current={x:e.touches[0].clientX,y:e.touches[0].clientY})},[])),jt=(0,l.useCallback)(e=>{if(2===e.touches.length&&st>0){const t=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY),s=t/st;it(e=>{const t=e*s;return Math.max(.25,Math.min(2.5,t))}),lt(t)}else if(1===e.touches.length&&ht.current){const t=e.touches[0].clientX-ht.current.x,s=e.touches[0].clientY-ht.current.y;je(e=>({x:e.x+t,y:e.y+s})),ht.current={x:e.touches[0].clientX,y:e.touches[0].clientY}}},[st]),kt=(0,l.useCallback)(e=>Je?.5*Math.round(e/.5):e,[Je]);(0,l.useEffect)(()=>{const e=e=>{!e.ctrlKey&&!e.metaKey||"z"!==e.key||e.shiftKey||(e.preventDefault(),mt()),(e.ctrlKey||e.metaKey)&&("y"===e.key||"z"===e.key&&e.shiftKey)&&(e.preventDefault(),yt()),(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),se&&Ot()),(e.ctrlKey||e.metaKey)&&"f"===e.key&&(e.preventDefault(),Ae(!0)),"Delete"===e.key&&se&&($e.length>0?Lt($e):re&&At(re)),"Escape"===e.key&&(Me([]),ae(null),oe(!1),xe(null)),(e.ctrlKey||e.metaKey)&&"a"===e.key&&se&&(e.preventDefault(),Me(Object.keys(V))),(e.ctrlKey||e.metaKey)&&"c"===e.key&&re&&Xe(V[re]),(e.ctrlKey||e.metaKey)&&"v"===e.key&&Pe&&Mt(),"Tab"!==e.key||se||(e.preventDefault(),St())," "!==e.key||e.target.closest("input, textarea")||(e.preventDefault(),document.body.style.cursor="grab")},t=e=>{" "===e.key&&(document.body.style.cursor="default")};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[se,re,$e,V,Pe,mt,yt]);const wt=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.preventDefault(),Te(!0),Oe({x:e.clientX,y:e.clientY}),Be(t)},[]);(0,l.useEffect)(()=>{const e=()=>Te(!1);return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[]);const Nt=(0,l.useCallback)(()=>{const e={...V},t=ct<=768?{construction:{nodes:[],xRange:[10,30]},hybrid:{nodes:[],xRange:[35,65]},operation:{nodes:[],xRange:[70,90]}}:{construction:{nodes:[],xRange:[5,25]},hybrid:{nodes:[],xRange:[30,70]},operation:{nodes:[],xRange:[75,95]}},s={};Object.values(V).forEach(e=>{const t=`${e.level}-${e.projectType}`;s[t]||(s[t]=[]),s[t].push(e)});Object.entries(s).forEach(s=>{let[l,r]=s;const[a,n]=l.split("-"),i=t[n].xRange,c=i[1]-i[0],o=r.length;if(0===o)return;const d=8*o+3*(o-1);if(d<=c){const t=(c-d)/2;r.forEach((s,l)=>{e[s.id]={...s,x:i[0]+t+11*l+4}})}else{const t=c/o;r.forEach((s,l)=>{e[s.id]={...s,x:i[0]+t*(l+.5)}})}}),pt(V),U(e),ge(!0)},[V,pt,ct]),Ct=(0,l.useCallback)((e,t)=>{if(t.ctrlKey||t.metaKey)Me(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]);else if(t.shiftKey&&re){const t=V[re].level,s=V[e].level,l=Math.min(t,s),r=Math.max(t,s),a=Object.values(V).filter(e=>e.level>=l&&e.level<=r).map(e=>e.id);Me(a)}else ae(e),Me([])},[V,re]),$t=(0,l.useCallback)(e=>{const t=V[e],s=`node_${Date.now()}`,l={...t,id:s,title:`${t.title} (\ubcf5\uc0ac\ubcf8)`,x:Math.min(95,t.x+5),parents:[],children:[]};pt(V),U(e=>({...e,[s]:l})),ge(!0)},[V,pt,ct]),Mt=(0,l.useCallback)(()=>{if(!Pe)return;const e=`node_${Date.now()}`,t={...Pe,id:e,title:`${Pe.title} (\ubd99\uc5ec\ub123\uae30)`,x:Math.min(95,(Pe.x||50)+5),parents:[],children:[]};pt(V),U(s=>({...s,[e]:t})),ge(!0)},[Pe,V,pt]),St=(0,l.useCallback)(()=>{const e=Object.keys(V);if(0===e.length)return;const t=(e.indexOf(re||"")+1)%e.length;ae(e[t]);const s=V[e[t]];if(s&&dt.current){const e=document.getElementById(`node-${s.id}`);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}},[V,re]),At=(0,l.useCallback)(e=>{if(window.confirm("\uc815\ub9d0 \uc774 \ub178\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){pt(V);const t={...V};if(!t[e])return void console.warn(`Node ${e} not found`);Object.values(t).forEach(t=>{t&&t.parents&&(t.parents=t.parents.filter(t=>t!==e)),t&&t.children&&(t.children=t.children.filter(t=>t!==e))}),delete t[e],U(t),ge(!0),re===e&&ae(null),$e.includes(e)&&Me(t=>t.filter(t=>t!==e))}},[V,pt,re,$e]),Lt=(0,l.useCallback)(e=>{if(window.confirm(`${e.length}\uac1c\uc758 \ub178\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?`)){pt(V);const t={...V};e.forEach(e=>{Object.values(t).forEach(t=>{t&&t.parents&&(t.parents=t.parents.filter(t=>t!==e)),t&&t.children&&(t.children=t.children.filter(t=>t!==e))}),delete t[e]}),U(t),Me([]),ge(!0)}},[V,pt,ct]),zt=(0,l.useCallback)((e,t)=>{if(e===t)return!1;const s=V[e],l=V[t];if(!s||!l)return!1;if(s.level>=l.level)return!1;const r=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(e===t)return!0;if(s.has(e))return!1;s.add(e);const l=V[e];return!(!l||!l.children)&&l.children.some(e=>r(e,t,s))};return!r(t,e)},[V]),Et=(0,l.useCallback)((e,t)=>{var s,l;if(se&&window.confirm(`${null===(s=V[e])||void 0===s?void 0:s.title}\uc640 ${null===(l=V[t])||void 0===l?void 0:l.title} \uac04\uc758 \uc5f0\uacb0\uc744 \ud574\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?`)){var r,a;pt(V);const s={...V};null!==(r=s[e])&&void 0!==r&&r.children&&(s[e].children=s[e].children.filter(e=>e!==t)),null!==(a=s[t])&&void 0!==a&&a.parents&&(s[t].parents=s[t].parents.filter(t=>t!==e)),U(s),ge(!0)}},[V,se,pt]),Tt=(0,l.useCallback)(e=>{const t=V[e];if(!t||!dt.current)return;const s=200*nt,l=60*nt+t.level*s,r=t.x/100*dt.current.clientWidth;je({x:dt.current.clientWidth/2-r,y:dt.current.clientHeight/2-l}),ae(e),Z(e),setTimeout(()=>Z(null),2e3)},[V]),Dt=(0,l.useMemo)(()=>{if(!dt.current)return Object.values(V);const e=-ve.x,t=dt.current.clientWidth-ve.x,s=-ve.y,l=dt.current.clientHeight-ve.y;return Object.values(V).filter(r=>{const a=200*nt,n=60*nt+r.level*a,i=r.x/100*dt.current.clientWidth,c=100;return i>e-c&&i<t+c&&n>s-c&&n<l+c})},[V,ve]);(0,l.useEffect)(()=>{const e=localStorage.getItem(`${F}CareerTree`);if(e)try{const t=JSON.parse(e);U(t),We([t]),Fe(0)}catch(t){console.error("Failed to load saved data:",t)}},[F]);const Ot=(0,l.useCallback)(()=>{localStorage.setItem(`${F}CareerTree`,JSON.stringify(V)),localStorage.setItem(`${F}Templates`,JSON.stringify(Ve)),ge(!1),alert("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")},[F,V,Ve]);(0,l.useEffect)(()=>{const e=()=>{tt(window.innerWidth<=768||"ontouchstart"in window)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{if(!et||!be)return;const e=e=>{const t=e.target.closest(`#node-${be}`),s=e.target.closest(".mobile-popup");t||s||fe(null)};return setTimeout(()=>{document.addEventListener("click",e)},100),()=>document.removeEventListener("click",e)},[et,be]),(0,l.useEffect)(()=>{const e=()=>{const e=window.innerWidth;let t;ot(e),t=e<=320?.05:e>=1920?1:.05+.95*Math.sqrt((e-320)/1600),it(t)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{if(!dt.current)return;const e=()=>{dt.current&&we(dt.current.clientWidth)};e();const t=new ResizeObserver(e);return t.observe(dt.current),window.addEventListener("resize",e),()=>{t.disconnect(),window.removeEventListener("resize",e)}},[]),(0,l.useEffect)(()=>{if(et&&dt.current){window.innerWidth,window.innerHeight;je({x:0,y:50})}else et||je({x:0,y:0})},[et]);const Rt=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(t.has(e))return[];t.add(e);const s=V[e];if(!s||!s.parents||0===s.parents.length)return[e];let l=[e];return s.parents.forEach(e=>{l=l.concat(Rt(e,t))}),[...new Set(l)]},[V]);(0,l.useEffect)(()=>{if(!Le||!xt.current||!dt.current)return;const e=xt.current,t=e.getContext("2d"),s=dt.current.getBoundingClientRect(),l=200,r=150,a=Math.min(l/s.width,.125);e.width=l,e.height=r,t.clearRect(0,0,l,r),t.fillStyle="rgba(0, 0, 0, 0.8)",t.fillRect(0,0,l,r),Object.values(V).forEach(e=>{const l=e.x/100*s.width*a,r=(150+180*e.level)*a;t.fillStyle=$e.includes(e.id)||re===e.id?"#DAA520":"#6B7280",t.fillRect(l-2,r-1,4,2)}),t.strokeStyle="#DAA520",t.lineWidth=2,t.strokeRect(-ve.x*a,-ve.y*a,s.width*a,s.height*a)},[V,Le,ve,re,$e]);const Bt=(0,l.useCallback)((e,t)=>{if(e===t)return!0;const s=new Set,l=[e];for(;l.length>0;){var r,a;const e=l.shift();if(s.has(e))continue;s.add(e);const n=V[e];if(n){if(null!==(r=n.children)&&void 0!==r&&r.includes(t))return!0;null===(a=n.children)||void 0===a||a.forEach(e=>{!s.has(e)&&V[e]&&l.push(e)})}}return!1},[V]),It=(0,l.useCallback)(e=>"all"===G||(G===e.projectType||(!!se||!(!Y||!Bt(e.id,Y)))),[G,se,Y,Bt]),Wt=(0,l.useCallback)((e,t)=>{if(et&&!se)return t.stopPropagation(),void fe(e===be?null:e);if(se&&ce){if(de){if(de!==e){if(zt(de,e)){pt(V);const t={...V};if(!t[de]||!t[e])return alert("\ub178\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),void xe(null);t[de].children||(t[de].children=[]),t[e].parents||(t[e].parents=[]),t[de].children.includes(e)||t[de].children.push(e),t[e].parents.includes(de)||t[e].parents.push(de),U(t),ge(!0)}else alert("\uc774 \uc5f0\uacb0\uc740 \ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (\ub808\ubca8 \uc81c\uc57d \ub610\ub294 \uc21c\ud658 \ucc38\uc870)");oe(!1),xe(null)}}else xe(e);if(de){if(de!==e){if(zt(de,e)){pt(V);const t={...V};if(!t[de]||!t[e])return alert("\ub178\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),void xe(null);t[de].children||(t[de].children=[]),t[e].parents||(t[e].parents=[]),t[de].children.includes(e)||t[de].children.push(e),t[e].parents.includes(de)||t[e].parents.push(de),U(t),ge(!0)}else alert("\uc774 \uc5f0\uacb0\uc740 \ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (\ub808\ubca8 \uc81c\uc57d \ub610\ub294 \uc21c\ud658 \ucc38\uc870)");oe(!1),xe(null)}}else xe(e)}else se?Ct(e,t):_(Y===e?null:e)},[se,ce,de,V,Ct,zt,pt,et,be,Y]),Kt=(0,l.useCallback)((e,t)=>{se&&($e.includes(t)?he($e):he(t),e.dataTransfer.effectAllowed="move")},[se,$e]),Ft=(0,l.useCallback)(e=>{if(e.preventDefault(),e.dataTransfer.dropEffect="move",Je&&dt.current){const t=dt.current.getBoundingClientRect(),s=(e.clientX-t.left-ve.x)/t.width*100;kt(s)}},[Je,ve,kt]),Pt=(0,l.useCallback)(e=>{if(e.preventDefault(),!ue||!dt.current)return;const t=dt.current.getBoundingClientRect();let s=(e.clientX-t.left-ve.x)/t.width*100;const l=e.clientY-t.top-ve.y,r=Math.max(0,Math.min(6,Math.floor((l-150)/200)));if(Je&&(s=kt(s)),s=Math.max(0,Math.min(100,s)),pt(V),Array.isArray(ue)){const e=s-V[ue[0]].x,t=r-V[ue[0]].level,l={...V};ue.forEach(s=>{l[s]={...l[s],x:Math.max(5,Math.min(95,l[s].x+e)),level:Math.max(0,Math.min(6,l[s].level+t))}}),U(l)}else U(e=>({...e,[ue]:{...e[ue],x:s,level:r}}));he(null),ge(!0)},[ue,V,ve,Je,kt,pt]),Xt=(0,l.useCallback)(e=>{if(!se||e.target!==dt.current)return;const t=dt.current.getBoundingClientRect(),s=(e.clientX-t.left-ve.x)/t.width*100,l=e.clientY-t.top-ve.y,r=Math.max(0,Math.min(6,Math.floor((l-150)/180))),a=`node_${Date.now()}`,n={id:a,title:"\uc0c8 \uc9c1\ubb34",year:"\uacbd\ub825",salary:"\uc5f0\ubd09",level:r,x:Je?kt(s):s,projectType:"hybrid",description:"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:[],parents:[],children:[],color:"#6B7280",icon:"\ud83d\udcbc"};pt(V),U(e=>({...e,[a]:n})),ie(a),ge(!0)},[se,V,ve,Je,kt,pt]),qt=(0,l.useCallback)(e=>{const t=`node_${Date.now()}`,s={id:t,title:e.title||"\uc0c8 \uc9c1\ubb34",year:e.year||"\uacbd\ub825",salary:e.salary||"\uc5f0\ubd09",level:e.level||0,x:50,projectType:e.projectType||"hybrid",description:e.description||"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:e.skills||[],parents:[],children:[],color:e.color||"#6B7280",icon:e.icon||"\ud83d\udcbc"};pt(V),U(e=>({...e,[t]:s})),ie(t),ge(!0)},[V,pt,ct]),Ht=(0,l.useCallback)(()=>{const e={nodes:V,templates:Ve,metadata:{careerType:F,exportDate:(new Date).toISOString(),version:"2.0"}},t=JSON.stringify(e,null,2),s="data:application/json;charset=utf-8,"+encodeURIComponent(t),l=`${F}_career_path_${(new Date).toISOString().slice(0,10)}.json`,r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download",l),r.click()},[V,Ve,F]),Vt=(0,l.useCallback)(()=>{const e=`${F}Nodes`,t=`// ${F.charAt(0).toUpperCase()+F.slice(1)}Path.js\n// \uc790\ub3d9 \uc0dd\uc131\ub41c \ud30c\uc77c - ${(new Date).toISOString()}\nimport React from 'react';\nimport AnimatedBackground from '../common/AnimatedBackground';\nimport CareerPathViewer from '../common/CareerPathViewer';\n\nconst ${F.charAt(0).toUpperCase()+F.slice(1)}Path = () => {\n  const ${e} = ${JSON.stringify(V,null,4).replace(/"([^"]+)":/g,"$1:")};\n\n  const renderBottomPanel = ({ viewMode, targetNode, nodes }) => {\n    const getNodeInfo = (nodeId) => {\n      const node = nodes[nodeId];\n      return node ? \`\${node.title} (\${node.year})\` : '';\n    };\n\n    return (\n      <div className="fixed bottom-0 left-0 right-0 p-4 bg-black/90 backdrop-blur-xl border-t border-gray-700/50">\n        <div className="max-w-7xl mx-auto">\n          {targetNode && (\n            <div className="text-sm text-gray-300">\n              <span className="text-gray-500">\ubaa9\ud45c:</span> {getNodeInfo(targetNode)}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <AnimatedBackground>\n      <div className="min-h-screen">\n        <div className="hidden sm:block px-4 sm:px-6 pt-4 sm:pt-6">\n  <h1 className="text-2xl sm:text-3xl md:text-4xl font-bold mb-2">\n    <span className="metallic-text">${Ut(F)} \ucee4\ub9ac\uc5b4\ud328\uc2a4</span>\n  </h1>\n  <p className="text-sm sm:text-base text-gray-400 mb-4 sm:mb-6">\n    ${Yt(F)}\n  </p>\n</div>\n        \n        <CareerPathViewer \n          initialNodes={${e}}\n          careerType="${F}"\n          renderBottomPanel={renderBottomPanel}\n        />\n      </div>\n    </AnimatedBackground>\n  );\n};\n\nexport default ${F.charAt(0).toUpperCase()+F.slice(1)}Path;`,s=new Blob([t],{type:"text/javascript"}),l=URL.createObjectURL(s),r=document.createElement("a");r.href=l,r.download=`${F.charAt(0).toUpperCase()+F.slice(1)}Path.js`,r.click(),URL.revokeObjectURL(l)},[V,F]),Ut=e=>({designer:"\uc6f9 \ub514\uc790\uc774\ub108",publisher:"\uc6f9 \ud37c\ube14\ub9ac\uc154",planner:"\uc6f9 \uae30\ud68d\uc790",admin:"\uacbd\uc601\uc9c0\uc6d0"}[e]||e),Yt=e=>({designer:"\ube44\uc8fc\uc5bc \ub514\uc790\uc778\ubd80\ud130 UI/UX, \uadf8\ub9ac\uace0 \ud06c\ub9ac\uc5d0\uc774\ud2f0\ube0c \ub9ac\ub354\uc2ed\uae4c\uc9c0",publisher:"HTML/CSS\ubd80\ud130 \ud504\ub860\ud2b8\uc5d4\ub4dc \uac1c\ubc1c, \uadf8\ub9ac\uace0 \uae30\uc220 \ub9ac\ub354\uc2ed\uae4c\uc9c0",planner:"\uc11c\ube44\uc2a4 \uae30\ud68d\ubd80\ud130 \ud504\ub85c\ub355\ud2b8 \ub9e4\ub2c8\uc9c0\uba3c\ud2b8, \uadf8\ub9ac\uace0 \ube44\uc988\ub2c8\uc2a4 \ub9ac\ub354\uc2ed\uae4c\uc9c0",admin:"\ud68c\uacc4/\uc778\uc0ac/\ucd1d\ubb34\ubd80\ud130 \uc804\ub7b5 \uae30\ud68d, \uadf8\ub9ac\uace0 \uacbd\uc601 \ub9ac\ub354\uc2ed\uae4c\uc9c0"}[e]||"\ucee4\ub9ac\uc5b4 \uc131\uc7a5 \uacbd\ub85c"),_t=(0,l.useCallback)(e=>{const t=e.target.files[0];if(!t)return;const s=new FileReader;s.onload=e=>{try{var t;const s=JSON.parse(e.target.result);null!==(t=s.metadata)&&void 0!==t&&t.version?(U(s.nodes),Ue(s.templates||[])):U(s),pt(V),ge(!0),alert("\ub370\uc774\ud130\ub97c \uc131\uacf5\uc801\uc73c\ub85c \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4!")}catch(s){alert("\ud30c\uc77c\uc744 \uc77d\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}},s.readAsText(t)},[V,pt,ct]);return(0,R.jsxs)(R.Fragment,{children:[et&&(0,R.jsx)("button",{onClick:()=>q("/"),className:"absolute top-4 left-4 z-20 p-2 bg-gray-800/80 backdrop-blur hover:bg-gray-700/80 rounded-full transition-colors",style:{width:50*nt+"px",height:50*nt+"px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,R.jsx)(i.A,{style:{width:25*nt+"px",height:25*nt+"px"}})}),!et&&(0,R.jsx)("div",{className:"relative z-10 px-6 pb-4",children:(0,R.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-xl border border-gray-700/50 p-4",children:[(0,R.jsxs)("div",{className:"flex items-center justify-between "+(ct<=768?"flex-col gap-3":"flex-row flex-wrap gap-4"),children:[(0,R.jsxs)("div",{className:"flex items-center "+(ct<=768?"w-full justify-evenly gap-2":"space-x-4 flex-wrap"),children:[(0,R.jsxs)("button",{onClick:()=>q("/"),className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,R.jsx)(i.A,{className:"w-4 h-4"}),(0,R.jsx)("span",{className:"text-sm",children:"\uc9c1\ubb34 \uc120\ud0dd"})]}),(0,R.jsx)("div",{className:"h-6 w-px bg-gray-700"}),!et&&(0,R.jsxs)("button",{onClick:()=>{se?(le(!1),oe(!1),xe(null),ae(null),Me([])):me(!0)},className:"px-4 py-2 rounded-lg flex items-center space-x-2 transition-all "+(se?"bg-gray-700 text-white":"bg-gray-900/50 text-gray-400 hover:bg-gray-800/50"),children:[se?(0,R.jsx)(c,{className:"w-4 h-4"}):(0,R.jsx)(o,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\uad00\ub9ac\uc790 \ubaa8\ub4dc"})]}),!et&&(0,R.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,R.jsx)(d,{className:"w-4 h-4 text-gray-500"}),(0,R.jsxs)("select",{value:G,onChange:e=>Q(e.target.value),className:"px-3 py-1.5 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-300 focus:border-gray-500 focus:outline-none",children:[(0,R.jsx)("option",{value:"all",children:"\uc804\uccb4 \ubcf4\uae30"}),(0,R.jsx)("option",{value:"construction",children:"\uad6c\ucd95 \ud504\ub85c\uc81d\ud2b8"}),(0,R.jsx)("option",{value:"operation",children:"\uc6b4\uc601 \ud504\ub85c\uc81d\ud2b8"}),(0,R.jsx)("option",{value:"hybrid",children:"\ubcf5\ud569\ud615"})]})]}),!et&&(0,R.jsxs)("button",{onClick:()=>Ae(!0),className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"Ctrl+F",children:[(0,R.jsx)(n,{className:"w-4 h-4"}),(0,R.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uac80\uc0c9"})]}),(0,R.jsxs)("button",{onClick:()=>{se?(ae(null),Me([]),oe(!1),xe(null)):_(null)},className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,R.jsx)(x,{className:"w-4 h-4"}),(0,R.jsx)("span",{className:"text-sm hidden sm:inline",children:"\ucd08\uae30\ud654"})]}),et&&!se&&(0,R.jsxs)("div",{className:"flex items-center gap-1",children:[(0,R.jsx)("button",{onClick:()=>{it(e=>Math.max(.25,e-.1))},className:"px-2 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:(0,R.jsx)(u,{className:"w-4 h-4"})}),(0,R.jsx)("button",{onClick:()=>{it(e=>Math.min(2.5,e+.1))},className:"px-2 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:(0,R.jsx)(h,{className:"w-4 h-4"})})]}),se&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"h-6 w-px bg-gray-700"}),(0,R.jsxs)("button",{onClick:()=>{const e=`node_${Date.now()}`,t={id:e,title:"\uc0c8 \uc9c1\ubb34",year:"\uacbd\ub825",salary:"\uc5f0\ubd09",level:0,x:50,projectType:"hybrid",description:"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:[],parents:[],children:[],color:"#6B7280",icon:"\ud83d\udcbc"};pt(V),U(s=>({...s,[e]:t})),ie(e),ge(!0)},className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\uc0c8 \ub178\ub4dc \ucd94\uac00",children:[(0,R.jsx)(p,{className:"w-4 h-4"}),(0,R.jsx)("span",{className:"text-sm hidden sm:inline",children:"\ub178\ub4dc \ucd94\uac00"})]}),(0,R.jsxs)("button",{onClick:()=>He(!0),className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\ud15c\ud50c\ub9bf\uc5d0\uc11c \ucd94\uac00",children:[(0,R.jsx)(m,{className:"w-4 h-4"}),(0,R.jsx)("span",{className:"text-sm hidden sm:inline",children:"\ud15c\ud50c\ub9bf"})]}),(0,R.jsxs)("button",{onClick:()=>{oe(!ce),xe(null)},className:"px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors "+(ce?"bg-gray-600 text-white":"bg-gray-800 hover:bg-gray-700"),title:"\uc5f0\uacb0 \ubaa8\ub4dc",children:[(0,R.jsx)(y,{className:"w-4 h-4"}),(0,R.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uc5f0\uacb0"})]}),(0,R.jsxs)("button",{onClick:Nt,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\uc790\ub3d9 \uc815\ub82c",children:[(0,R.jsx)(g,{className:"w-4 h-4"}),(0,R.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uc790\ub3d9 \uc815\ub82c"})]}),(0,R.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,R.jsx)("button",{onClick:mt,disabled:Ke<=0,className:"p-1.5 rounded transition-colors "+(Ke>0?"bg-gray-800 hover:bg-gray-700":"bg-gray-900 text-gray-600 cursor-not-allowed"),title:"\uc2e4\ud589 \ucde8\uc18c (Ctrl+Z)",children:(0,R.jsx)(b,{className:"w-4 h-4"})}),(0,R.jsx)("button",{onClick:yt,disabled:Ke>=Ie.length-1,className:"p-1.5 rounded transition-colors "+(Ke<Ie.length-1?"bg-gray-800 hover:bg-gray-700":"bg-gray-900 text-gray-600 cursor-not-allowed"),title:"\ub2e4\uc2dc \uc2e4\ud589 (Ctrl+Y)",children:(0,R.jsx)(f,{className:"w-4 h-4"})})]}),(0,R.jsx)("div",{className:"h-6 w-px bg-gray-700"}),(0,R.jsxs)("button",{onClick:Ot,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\uc800\uc7a5 (Ctrl+S)",children:[(0,R.jsx)(v,{className:"w-4 h-4"}),(0,R.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uc800\uc7a5"})]}),(0,R.jsxs)("button",{onClick:Ht,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,R.jsx)(j,{className:"w-4 h-4"}),(0,R.jsx)("span",{className:"text-sm hidden sm:inline",children:"JSON \ub0b4\ubcf4\ub0b4\uae30"})]}),(0,R.jsxs)("button",{onClick:Vt,className:"px-3 py-2 bg-purple-800 hover:bg-purple-700 rounded-lg flex items-center space-x-2 transition-colors",title:"JS \ud30c\uc77c\ub85c \ub0b4\ubcf4\ub0b4\uae30",children:[(0,R.jsx)(k,{className:"w-4 h-4"}),(0,R.jsx)("span",{className:"text-sm hidden sm:inline",children:"JS \ub0b4\ubcf4\ub0b4\uae30"})]}),(0,R.jsxs)("label",{className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors cursor-pointer",children:[(0,R.jsx)(w,{className:"w-4 h-4"}),(0,R.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uac00\uc838\uc624\uae30"}),(0,R.jsx)("input",{type:"file",accept:".json",onChange:_t,className:"hidden"})]})]})]}),(0,R.jsxs)("div",{className:"flex items-center space-x-4",children:[ye&&se&&(0,R.jsxs)("span",{className:"text-yellow-400 text-sm flex items-center",children:[(0,R.jsx)(N,{className:"w-4 h-4 mr-1"}),"\uc800\uc7a5\ub418\uc9c0 \uc54a\uc74c"]}),(0,R.jsxs)("div",{className:"text-sm text-gray-400",children:[Y&&!se&&(0,R.jsxs)("span",{children:["\ubaa9\ud45c: ",null===(s=V[Y])||void 0===s?void 0:s.title]}),se&&ce&&(0,R.jsx)("span",{children:de?"\uc5f0\uacb0\ud560 \ub178\ub4dc \uc120\ud0dd":"\uc2dc\uc791 \ub178\ub4dc \uc120\ud0dd"}),se&&$e.length>0&&(0,R.jsxs)("span",{children:[$e.length,"\uac1c \uc120\ud0dd\ub428"]})]})]})]}),se&&(0,R.jsxs)("div",{className:"flex items-center space-x-4 mt-3 pt-3 border-t border-gray-700",children:[(0,R.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,R.jsx)("input",{type:"checkbox",checked:Ye,onChange:e=>_e(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,R.jsx)(C,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\uadf8\ub9ac\ub4dc"})]}),(0,R.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,R.jsx)("input",{type:"checkbox",checked:Je,onChange:e=>Ze(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,R.jsx)($,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\uc2a4\ub0c5"})]}),(0,R.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,R.jsx)("input",{type:"checkbox",checked:Le,onChange:e=>ze(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,R.jsx)(M,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\ubbf8\ub2c8\ub9f5"})]}),(0,R.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,R.jsx)("input",{type:"checkbox",checked:Ge,onChange:e=>Qe(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,R.jsx)(M,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\uace0\ub300\ube44"})]}),(0,R.jsx)("div",{className:"h-6 w-px bg-gray-700"}),(0,R.jsxs)("button",{onClick:()=>alert("\ud0a4\ubcf4\ub4dc \ub2e8\ucd95\ud0a4:\n\nCtrl+Z: \uc2e4\ud589 \ucde8\uc18c\nCtrl+Y: \ub2e4\uc2dc \uc2e4\ud589\nCtrl+S: \uc800\uc7a5\nCtrl+F: \uac80\uc0c9\nCtrl+A: \uc804\uccb4 \uc120\ud0dd\nCtrl+C: \ub178\ub4dc \ubcf5\uc0ac\nCtrl+V: \ub178\ub4dc \ubd99\uc5ec\ub123\uae30\nDelete: \uc120\ud0dd \uc0ad\uc81c\nTab: \ub2e4\uc74c \ub178\ub4dc\nSpace+\ub4dc\ub798\uadf8: \ud32c\nCtrl+\ud720: \uc90c\nEscape: \ucde8\uc18c"),className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors text-sm",children:[(0,R.jsx)(S,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\ub2e8\ucd95\ud0a4"})]})]})]})}),(0,R.jsxs)("div",{ref:dt,className:"relative mx-auto",style:{width:"100%",height:"1600px",minHeight:"600px",paddingTop:et?"60px":"0px",cursor:Ne?"grabbing":"default",touchAction:"none"},onMouseDown:gt,onMouseMove:bt,onMouseUp:ft,onMouseLeave:ft,onDragOver:Ft,onDrop:Pt,onDoubleClick:Xt,onContextMenu:e=>wt(e),onTouchStart:vt,onTouchMove:jt,children:[(0,R.jsx)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{overflow:"visible"},children:(0,R.jsxs)("g",{transform:`translate(${ve.x}, ${ve.y})`,children:[Ye&&(0,R.jsxs)(R.Fragment,{children:[Array.from({length:40},(e,t)=>(0,R.jsx)("line",{x1:50*t,y1:0,x2:50*t,y2:2e3,stroke:Ge?"rgba(255, 255, 255, 0.1)":"rgba(156, 163, 175, 0.1)",strokeWidth:"0.5"},`v-${t}`)),Array.from({length:20},(e,t)=>(0,R.jsx)("line",{x1:0,y1:50*t,x2:2e3,y2:50*t,stroke:Ge?"rgba(255, 255, 255, 0.1)":"rgba(156, 163, 175, 0.1)",strokeWidth:"0.5"},`h-${t}`))]}),(0,R.jsx)("g",{id:"normal-connections",children:Object.values(V).map(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.map(t=>{const s=V[t];if(!s)return null;const l=200*nt,r=80*nt,a=s.x/100*ke,n=60*nt+s.level*l+r/2,i=e.x/100*ke,c=60*nt+e.level*l+r/2,o=n+(c-n)/2;let d=!1;if(J){const s=Rt(J),l=Object.values(V).filter(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.includes(J)}).map(e=>e.id);d=s.includes(t)&&s.includes(e.id)||J===t&&l.includes(e.id)}const x="target"===ee&&Y&&Bt(t,Y)&&Bt(e.id,Y),u=$e.includes(t)&&$e.includes(e.id);return d||x||u?null:(0,R.jsx)("path",{d:`M ${a} ${n} L ${a} ${o} L ${i} ${o} L ${i} ${c}`,stroke:Ge?"#484848":"#363636",strokeWidth:1.5,fill:"none",opacity:.7},`${t}-${e.id}`)})})}),(0,R.jsxs)("g",{id:"highlighted-connections",children:[Object.values(V).map(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.map(t=>{const s=V[t];if(!s)return null;const l=200*nt,r=80*nt,a=s.x/100*ke,n=60*nt+s.level*l+r/2,i=e.x/100*ke,c=60*nt+e.level*l+r/2,o=n+(c-n)/2;let d=!1;if(J){const s=Rt(J),l=Object.values(V).filter(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.includes(J)}).map(e=>e.id);d=s.includes(t)&&s.includes(e.id)||J===t&&l.includes(e.id)}const x="target"===ee&&Y&&Bt(t,Y)&&Bt(e.id,Y),u=$e.includes(t)&&$e.includes(e.id);if(x)return null;if(!d&&!u)return null;let h="#DAA520",p=3;return d&&!u&&(h="#ad9469",p=2.5),(0,R.jsx)("path",{d:`M ${a} ${n} L ${a} ${o} L ${i} ${o} L ${i} ${c}`,stroke:h,strokeWidth:p,fill:"none",opacity:1,style:{filter:u?"drop-shadow(0 0 8px #DAA520)":"none"}},`${t}-${e.id}-highlight`)})}),Y&&Object.values(V).map(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.map(t=>{const s=V[t];if(!s)return null;if(!(Bt(t,Y)&&Bt(e.id,Y)))return null;const l=200*nt,r=80*nt,a=s.x/100*ke,n=60*nt+s.level*l+r/2,i=e.x/100*ke,c=60*nt+e.level*l+r/2,o=n+(c-n)/2;return(0,R.jsx)("path",{d:`M ${a} ${n} L ${a} ${o} L ${i} ${o} L ${i} ${c}`,stroke:"#e0cf6fff",strokeWidth:3.5,fill:"none",opacity:1},`${t}-${e.id}-target`)})})]}),ce&&de&&J&&J!==de&&(()=>{const e=V[de],t=V[J];if(!e||!t)return null;const s=e.x/100*ke,l=150+200*e.level+40,r=t.x/100*ke,a=150+200*t.level+40;return(0,R.jsx)("path",{d:`M ${s} ${l} L ${r} ${a}`,stroke:zt(de,J)?"rgba(34, 197, 94, 0.6)":"rgba(239, 68, 68, 0.6)",strokeWidth:"2",strokeDasharray:"8 4",fill:"none"})})()]})}),(0,R.jsxs)("div",{style:{transform:`translate(${ve.x}px, ${ve.y}px)`,transformOrigin:"0 0",position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[se&&(0,R.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,R.jsx)("div",{className:"absolute top-0 bottom-0 left-0 w-[25%] bg-blue-500/5 border-r border-blue-500/20",children:(0,R.jsx)("span",{className:"absolute top-4 left-4 text-xs text-blue-500/50",children:"\uad6c\ucd95"})}),(0,R.jsx)("div",{className:"absolute top-0 bottom-0 left-[25%] w-[50%] bg-gray-500/5 border-r border-gray-500/20",children:(0,R.jsx)("span",{className:"absolute top-4 left-4 text-xs text-gray-500/50",children:"\ubcf5\ud569"})}),(0,R.jsx)("div",{className:"absolute top-0 bottom-0 left-[75%] w-[25%] bg-green-500/5",children:(0,R.jsx)("span",{className:"absolute top-4 left-4 text-xs text-green-500/50",children:"\uc6b4\uc601"})})]}),[0,1,2,3,4,5,6].map(e=>(0,R.jsx)("div",{className:"absolute left-0 right-0 border-t-2 border-dashed",style:{top:60*nt+200*e*nt-40*nt+"px",borderColor:"rgba(107, 114, 128, 0.15)"},children:(0,R.jsxs)("span",{className:"absolute -top-3 left-4 px-2 bg-black text-gray-400",style:{fontSize:12*nt+"px"},children:[0===e&&"\uc785\ubb38 (1-3\ub144\ucc28)",1===e&&"\uccb4\uacc4\ud654 (4-7\ub144\ucc28)",2===e&&"\uc804\ubb38\ud654 (8-12\ub144\ucc28)",3===e&&"\uc8fc\ub3c4\ud654 (13-18\ub144\ucc28)",4===e&&"\ucc28\ubcc4\ud654 (20\ub144\ucc28+)",5===e&&"\uc804\ub7b5\ud654 (25\ub144\ucc28+)",6===e&&"\ucd5c\uace0 \uacbd\uc601\uc790"]})},e)),se&&(0,R.jsx)("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%"},children:Object.values(V).map(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.map(t=>{const s=V[t];if(!s)return null;const l=ke,r=s.x/100*l,a=60*nt+200*s.level*nt+40*nt,n=e.x/100*l,i=60*nt+200*e.level*nt+40*nt,c=a+(i-a)/2,o=`${t}-${e.id}`,d=rt===o;return(0,R.jsxs)("g",{children:[(0,R.jsx)("path",{d:`M ${r} ${a} L ${r} ${c} L ${n} ${c} L ${n} ${i}`,stroke:"transparent",strokeWidth:"20",fill:"none",className:"pointer-events-auto cursor-pointer",onClick:()=>Et(t,e.id),onMouseEnter:()=>at(o),onMouseLeave:()=>at(null)}),(0,R.jsx)("path",{d:`M ${r} ${a} L ${r} ${c} L ${n} ${c} L ${n} ${i}`,stroke:d?"#EF4444":"transparent",strokeWidth:d?"3":"0",fill:"none",className:"pointer-events-none",strokeDasharray:d?"5,5":"none"}),d&&(0,R.jsxs)("g",{transform:`translate(${(r+n)/2}, ${c})`,children:[(0,R.jsx)("circle",{r:"12",fill:"#EF4444"}),(0,R.jsx)("text",{x:"0",y:"0",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"16",fontWeight:"bold",className:"pointer-events-none select-none",children:"\xd7"})]})]},o)})})}),Dt.map(e=>{const t=200*nt,s=60*nt+e.level*t,l=It(e),r=Y&&Bt(e.id,Y),n=re===e.id||$e.includes(e.id);return(0,R.jsxs)("div",{id:`node-${e.id}`,className:`absolute transform -translate-x-1/2 transition-all duration-300 ${l?"opacity-100":"opacity-20"} ${!se||se?"cursor-pointer":"cursor-default"}`,style:{left:`${e.x}%`,top:`${s}px`,zIndex:r||n?50:J===e.id?40:30},draggable:se,onDragStart:t=>Kt(t,e.id),onMouseEnter:()=>Z(e.id),onMouseLeave:()=>Z(null),onClick:t=>Wt(e.id,t),onDoubleClick:()=>{se&&ie(e.id)},onContextMenu:t=>wt(t,e.id),role:"button",tabIndex:0,"aria-label":`${e.title} - ${e.year} - ${e.salary}`,"aria-selected":n,children:[(J===e.id||r||n)&&(0,R.jsx)("div",{className:"absolute inset-0 w-40 h-40 rounded-full filter blur-3xl opacity-30 pointer-events-none",style:{backgroundColor:Ge?"#FFD700":e.color}}),(0,R.jsxs)("div",{className:"relative backdrop-blur-xl rounded-2xl border transition-all duration-300 "+(Y===e.id||n?"bg-gray-600/30 border-gray-400/50 shadow-2xl scale-105":r?"bg-gray-700/30 border-gray-500/50 shadow-xl":de===e.id?"bg-gray-600/30 border-gray-400/50 shadow-2xl scale-110":J===e.id?"bg-black/80 border-gray-600/50 scale-105":"bg-black/70 border-gray-700/50"),style:{width:et?120*nt+"px":168*nt+"px",padding:et?8*nt+"px":10*nt+"px",fontSize:12*nt+"px",boxShadow:Y===e.id?"0 0 10px #e0cf6f, 0 0 20px #e0cf6f":r?"0 0 0px #e0cf6f, 0 0 5px #e0cf6f":"none"},onClick:t=>{et&&!se&&(t.stopPropagation(),fe(e.id===be?null:e.id))},children:[se&&J===e.id&&(0,R.jsxs)("div",{className:"absolute -top-3 -right-3 flex space-x-1",children:[(0,R.jsx)("button",{onClick:t=>{t.stopPropagation(),ie(e.id)},className:"w-7 h-7 bg-gray-700 hover:bg-gray-600 rounded-full flex items-center justify-center transition-colors",title:"\ud3b8\uc9d1",children:(0,R.jsx)(A,{className:"w-3 h-3"})}),(0,R.jsx)("button",{onClick:t=>{t.stopPropagation(),$t(e.id)},className:"w-7 h-7 bg-gray-700 hover:bg-gray-600 rounded-full flex items-center justify-center transition-colors",title:"\ubcf5\uc81c",children:(0,R.jsx)(L,{className:"w-3 h-3"})}),(0,R.jsx)("button",{onClick:t=>{t.stopPropagation(),At(e.id)},className:"w-7 h-7 bg-red-700 hover:bg-red-600 rounded-full flex items-center justify-center transition-colors",title:"\uc0ad\uc81c",children:(0,R.jsx)(z,{className:"w-3 h-3"})})]}),$e.includes(e.id)&&(0,R.jsx)("div",{className:"absolute -top-2 -left-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,R.jsx)(E,{className:"w-3 h-3"})}),!$e.includes(e.id)&&(0,R.jsxs)("div",{className:"absolute -top-2 -left-2 bg-gray-800 rounded-full flex items-center justify-center font-bold",style:{width:20*nt+"px",height:20*nt+"px",fontSize:10*nt+"px"},children:["L",e.level]}),ce&&de&&de!==e.id&&(0,R.jsx)("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 w-6 h-6 rounded-full flex items-center justify-center",children:zt(de,e.id)?(0,R.jsx)(E,{className:"w-5 h-5 text-green-500"}):(0,R.jsx)(T,{className:"w-5 h-5 text-red-500"})}),et?(0,R.jsxs)("div",{className:"flex flex-col items-center",children:[(0,R.jsx)("span",{style:{fontSize:18*nt+"px",marginBottom:4*nt+"px"},children:e.icon}),(0,R.jsx)("h3",{className:"font-bold text-center "+(Ge?"text-white":""),style:{fontSize:14*nt+"px",marginBottom:2*nt+"px"},children:e.title}),(0,R.jsx)("p",{className:"text-center "+(Ge?"text-gray-100":"text-gray-300"),style:{fontSize:10*nt+"px"},children:e.salary})]}):(0,R.jsxs)("div",{className:"flex items-start",style:{gap:8*nt+"px"},children:[(0,R.jsx)("span",{style:{fontSize:20*nt+"px"},children:e.icon}),(0,R.jsxs)("div",{className:"flex-1",children:[(0,R.jsx)("h3",{className:"font-bold "+(Ge?"text-white":""),style:{fontSize:16*nt+"px",marginBottom:4*nt+"px"},children:e.title}),(0,R.jsx)("p",{className:""+(Ge?"text-gray-100":"text-gray-300"),style:{fontSize:11*nt+"px",marginTop:4*nt+"px"},children:e.salary})]})]}),!et&&(0,R.jsx)("div",{className:"flex items-center justify-end",style:{marginTop:7*nt+"px"},children:(0,R.jsx)("span",{className:"rounded-full font-medium "+("operation"===e.projectType?"bg-green-600/30 text-green-300 border border-green-500/30":"construction"===e.projectType?"bg-blue-600/30 text-blue-300 border border-blue-500/30":"bg-purple-600/30 text-purple-300 border border-purple-500/30"),style:{fontSize:11*nt+"px",padding:`${3*nt}px ${6*nt}px`},children:"operation"===e.projectType?"\uc6b4\uc601":"construction"===e.projectType?"\uad6c\ucd95":"\ubcf5\ud569"})}),ce&&de===e.id&&(0,R.jsx)("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:(0,R.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"})})]}),J===e.id&&!et&&(0,R.jsxs)("div",{className:"absolute top-0 w-72 p-4 backdrop-blur-xl bg-black/90 rounded-xl border border-gray-700/50 shadow-2xl z-50 "+(e.x>=80?"right-full mr-4":"left-full ml-4"),children:[(0,R.jsx)("h4",{className:"font-bold mb-2",children:e.title}),(0,R.jsx)("p",{className:"text-sm text-gray-300 mb-3",children:e.description}),e.skills&&e.skills.length>0&&(0,R.jsxs)("div",{className:"mb-3",children:[(0,R.jsx)("p",{className:"text-xs font-medium text-gray-400 mb-1",children:"\ud544\uc694 \uc2a4\ud0ac"}),(0,R.jsx)("div",{className:"flex flex-wrap gap-1",children:e.skills.map((e,t)=>(0,R.jsx)("span",{className:"text-xs px-2 py-1 bg-gray-800/50 rounded",children:e},t))})]}),et&&be===e.id&&(0,R.jsxs)("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 w-64 p-4 backdrop-blur-xl bg-black/95 rounded-xl border border-gray-700/50 shadow-2xl z-50",onClick:e=>e.stopPropagation(),children:[(0,R.jsx)("button",{onClick:()=>fe(null),className:"absolute top-2 right-2 text-gray-400 hover:text-white",children:(0,R.jsx)(a,{className:"w-4 h-4"})}),(0,R.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,R.jsx)("span",{className:"text-2xl",children:e.icon}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h4",{className:"font-bold text-white",children:e.title}),(0,R.jsx)("p",{className:"text-sm text-gray-400",children:e.year})]})]}),(0,R.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,R.jsxs)("div",{className:"flex justify-between",children:[(0,R.jsx)("span",{className:"text-gray-400",children:"\uc5f0\ubd09:"}),(0,R.jsx)("span",{className:"text-gray-200",children:e.salary})]}),(0,R.jsxs)("div",{className:"flex justify-between",children:[(0,R.jsx)("span",{className:"text-gray-400",children:"\ud0c0\uc785:"}),(0,R.jsx)("span",{className:"px-2 py-0.5 rounded text-xs "+("operation"===e.projectType?"bg-green-600/30 text-green-300":"construction"===e.projectType?"bg-blue-600/30 text-blue-300":"bg-purple-600/30 text-purple-300"),children:"operation"===e.projectType?"\uc6b4\uc601":"construction"===e.projectType?"\uad6c\ucd95":"\ubcf5\ud569"})]})]}),e.description&&(0,R.jsx)("p",{className:"text-xs text-gray-300 mt-3 pt-3 border-t border-gray-700",children:e.description}),e.skills&&e.skills.length>0&&(0,R.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[(0,R.jsx)("p",{className:"text-xs font-medium text-gray-400 mb-2",children:"\ud544\uc694 \uc2a4\ud0ac"}),(0,R.jsx)("div",{className:"flex flex-wrap gap-1",children:e.skills.map((e,t)=>(0,R.jsx)("span",{className:"text-xs px-2 py-1 bg-gray-800/50 rounded",children:e},t))})]})]}),(0,R.jsx)("div",{className:"pt-3 border-t border-gray-700",children:(0,R.jsx)("p",{className:"text-xs text-gray-500",children:se?"\ub354\ube14\ud074\ub9ad: \ud3b8\uc9d1 | \uc6b0\ud074\ub9ad: \uba54\ub274":"\ud074\ub9ad\ud558\uc5ec \ubaa9\ud45c \uc124\uc815"})})]})]},e.id)})]}),Le&&(0,R.jsx)("div",{className:"absolute bottom-4 right-4 w-52 h-40 bg-black/80 rounded-lg border border-gray-700/50 overflow-hidden",children:(0,R.jsx)("canvas",{ref:xt,className:"w-full h-full cursor-pointer",onClick:e=>{const t=e.currentTarget.getBoundingClientRect(),s=(e.clientX-t.left)/t.width,l=(e.clientY-t.top)/t.height;je({x:-s*dt.current.clientWidth+dt.current.clientWidth/2,y:1200*-l+dt.current.clientHeight/2})}})}),Ee&&(0,R.jsx)("div",{className:"absolute z-50 bg-gray-900 rounded-lg border border-gray-700 shadow-xl py-2",style:{left:`${De.x}px`,top:`${De.y}px`},children:Re?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("button",{onClick:()=>{ie(Re),Te(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,R.jsx)(A,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\ud3b8\uc9d1"})]}),(0,R.jsxs)("button",{onClick:()=>{$t(Re),Te(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,R.jsx)(L,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\ubcf5\uc81c"})]}),(0,R.jsxs)("button",{onClick:()=>{Xe(V[Re]),Te(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,R.jsx)(D,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\ubcf5\uc0ac"})]}),(0,R.jsx)("div",{className:"h-px bg-gray-700 my-1"}),(0,R.jsxs)("button",{onClick:()=>{At(Re),Te(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2 text-red-400",children:[(0,R.jsx)(z,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\uc0ad\uc81c"})]})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("button",{onClick:()=>{const e=dt.current.getBoundingClientRect(),t=(De.x-e.left-ve.x)/e.width*100,s=De.y-e.top-ve.y,l=Math.max(0,Math.min(6,Math.floor((s-150)/180))),r=`node_${Date.now()}`,a={id:r,title:"\uc0c8 \uc9c1\ubb34",year:"\uacbd\ub825",salary:"\uc5f0\ubd09",level:l,x:Je?kt(t):t,projectType:"hybrid",description:"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:[],parents:[],children:[],color:"#6B7280",icon:"\ud83d\udcbc"};pt(V),U(e=>({...e,[r]:a})),Te(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,R.jsx)(p,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\uc5ec\uae30\uc5d0 \ub178\ub4dc \ucd94\uac00"})]}),Pe&&(0,R.jsxs)("button",{onClick:()=>{Mt(),Te(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,R.jsx)(D,{className:"w-4 h-4"}),(0,R.jsx)("span",{children:"\ubd99\uc5ec\ub123\uae30"})]})]})})]}),X&&X({nodes:V,targetNode:Y,viewMode:ee}),ne&&(0,R.jsx)(I,{nodeId:ne,nodes:V,isAdminMode:se,onClose:()=>ie(null),onUpdate:(e,t)=>{if(pt(V),se&&t.id&&t.id!==e){const s={...V};delete s[e],s[t.id]={...V[e],...t},Object.values(s).forEach(s=>{var l,r;null!==(l=s.parents)&&void 0!==l&&l.includes(e)&&(s.parents=s.parents.map(s=>s===e?t.id:s)),null!==(r=s.children)&&void 0!==r&&r.includes(e)&&(s.children=s.children.map(s=>s===e?t.id:s))}),U(s)}else U(s=>({...s,[e]:{...s[e],...t}}));ge(!0),ie(null)}}),Se&&(0,R.jsx)(W,{nodes:V,onSelect:Tt,onClose:()=>Ae(!1)}),qe&&(0,R.jsx)(K,{templates:Ve,onSelectTemplate:qt,onClose:()=>He(!1)}),pe&&(0,R.jsx)(B,{onSuccess:()=>{le(!0),me(!1)},onClose:()=>me(!1)})]})}}}]);
//# sourceMappingURL=647.c0c69d59.chunk.js.map