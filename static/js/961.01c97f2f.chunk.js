/*! For license information please see 961.01c97f2f.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcareer_path_navigator=self.webpackChunkcareer_path_navigator||[]).push([[961],{961:(e,t,l)=>{l.d(t,{A:()=>q});var s=l(43),a=l(784);const r=(0,a.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),n=(0,a.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var i=l(469);const c=(0,a.A)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),o=(0,a.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var d=l(326);const x=(0,a.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),h=(0,a.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),u=(0,a.A)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),p=(0,a.A)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),m=(0,a.A)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),g=(0,a.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),y=(0,a.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),b=(0,a.A)("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]),v=(0,a.A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),f=(0,a.A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),j=(0,a.A)("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),k=(0,a.A)("redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),w=(0,a.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),N=(0,a.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),C=(0,a.A)("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]),M=(0,a.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),S=(0,a.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),A=(0,a.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),$=(0,a.A)("mouse-pointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),T=(0,a.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),D=(0,a.A)("command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]),E=(0,a.A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),L=(0,a.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),O=(0,a.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),z=(0,a.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),R=(0,a.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),B=(0,a.A)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),P=(0,a.A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var I=l(615),K=l(579);const F=e=>{let{onSuccess:t,onClose:l}=e;const[a,n]=(0,s.useState)(""),[i,c]=(0,s.useState)(!1);return(0,K.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,K.jsx)("div",{className:"relative w-full max-w-md mx-4",children:(0,K.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-white",children:"\uad00\ub9ac\uc790 \uc778\uc99d"}),(0,K.jsx)("button",{onClick:l,className:"text-gray-400 hover:text-white transition-colors",children:(0,K.jsx)(r,{className:"w-5 h-5"})})]}),(0,K.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"the5151@@@@"===a?t():(c(!0),setTimeout(()=>c(!1),2e3))},className:"space-y-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"\uad00\ub9ac\uc790 \ud328\uc2a4\uc6cc\ub4dc"}),(0,K.jsx)("input",{type:"password",value:a,onChange:e=>n(e.target.value),className:"w-full px-4 py-3 bg-gray-900/50 border rounded-lg text-white placeholder-gray-600 focus:outline-none transition-all "+(i?"border-red-500 shadow-red-500/50 shadow-lg animate-shake":"border-gray-600/50 focus:border-gray-400/50"),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",autoFocus:!0})]}),i&&(0,K.jsx)("p",{className:"text-red-400 text-sm text-center animate-pulse",children:"\uc798\ubabb\ub41c \ud328\uc2a4\uc6cc\ub4dc\uc785\ub2c8\ub2e4"}),(0,K.jsxs)("div",{className:"flex justify-end space-x-3 pt-2",children:[(0,K.jsx)("button",{type:"button",onClick:l,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"\ucde8\uc18c"}),(0,K.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"\ud655\uc778"})]})]})]})})})},W=e=>{let{nodeId:t,nodes:l,onClose:a,onUpdate:n,isAdminMode:i}=e;const c=l[t],[o]=(0,s.useState)(t),[d,x]=(0,s.useState)({id:(null===c||void 0===c?void 0:c.id)||t,title:(null===c||void 0===c?void 0:c.title)||"",year:(null===c||void 0===c?void 0:c.year)||"",salary:(null===c||void 0===c?void 0:c.salary)||"",description:(null===c||void 0===c?void 0:c.description)||"",projectType:(null===c||void 0===c?void 0:c.projectType)||"hybrid",skills:((null===c||void 0===c?void 0:c.skills)||[]).join(", "),icon:(null===c||void 0===c?void 0:c.icon)||"\ud83d\udcbc",color:(null===c||void 0===c?void 0:c.color)||"#6B7280",level:(null===c||void 0===c?void 0:c.level)||0,x:(null===c||void 0===c?void 0:c.x)||50});if(!c)return null;return(0,K.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,K.jsx)("div",{className:"relative w-full max-w-2xl mx-4",children:(0,K.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6 max-h-[90vh] overflow-y-auto",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-white",children:"\ub178\ub4dc \ud3b8\uc9d1"}),(0,K.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,K.jsx)(r,{className:"w-5 h-5"})})]}),(0,K.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i&&d.id!==o&&l[d.id]?alert("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 ID\uc785\ub2c8\ub2e4."):(n(o,{...d,skills:d.skills.split(",").map(e=>e.trim()).filter(e=>e)}),a())},className:"space-y-4",children:[i&&(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"ID (\uc8fc\uc758: \ubcc0\uacbd \uc2dc \uc5f0\uacb0 \uad00\uacc4\uac00 \ub04a\uc5b4\uc9c8 \uc218 \uc788\uc74c)"}),(0,K.jsx)("input",{type:"text",value:d.id,onChange:e=>{const t=e.target.value;x({...d,id:t})},className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",required:!0})]}),(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc9c1\ubb34\uba85"}),(0,K.jsx)("input",{type:"text",value:d.title,onChange:e=>x({...d,title:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",required:!0})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uacbd\ub825"}),(0,K.jsxs)("select",{value:d.year,onChange:e=>x({...d,year:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",children:[(0,K.jsx)("option",{value:"",children:"\uacbd\ub825 \uc120\ud0dd"}),(0,K.jsx)("option",{value:"1-3\ub144\ucc28",children:"1-3\ub144\ucc28"}),(0,K.jsx)("option",{value:"4-7\ub144\ucc28",children:"4-7\ub144\ucc28"}),(0,K.jsx)("option",{value:"8-12\ub144\ucc28",children:"8-12\ub144\ucc28"}),(0,K.jsx)("option",{value:"13-18\ub144\ucc28",children:"13-18\ub144\ucc28"}),(0,K.jsx)("option",{value:"20\ub144\ucc28+",children:"20\ub144\ucc28+"}),(0,K.jsx)("option",{value:"25\ub144\ucc28+",children:"25\ub144\ucc28+"}),(0,K.jsx)("option",{value:"30\ub144\ucc28+",children:"30\ub144\ucc28+"})]})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc5f0\ubd09"}),(0,K.jsx)("input",{type:"text",value:d.salary,onChange:e=>x({...d,salary:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",placeholder:"\uc608: 3,500-4,500\ub9cc\uc6d0"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\ub808\ubca8"}),(0,K.jsx)("input",{type:"number",value:d.level,onChange:e=>x({...d,level:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",min:"0",max:"6"})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\ud504\ub85c\uc81d\ud2b8 \ud0c0\uc785"}),(0,K.jsxs)("select",{value:d.projectType,onChange:e=>x({...d,projectType:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",children:[(0,K.jsx)("option",{value:"operation",children:"\uc6b4\uc601"}),(0,K.jsx)("option",{value:"construction",children:"\uad6c\ucd95"}),(0,K.jsx)("option",{value:"hybrid",children:"\ubcf5\ud569"})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"X \uc704\uce58 (%)"}),(0,K.jsx)("input",{type:"number",value:d.x,onChange:e=>x({...d,x:parseFloat(e.target.value)||50}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",min:"0",max:"100",step:"0.1"})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc124\uba85"}),(0,K.jsx)("textarea",{value:d.description,onChange:e=>x({...d,description:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",rows:"3"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc2a4\ud0ac (\uc27c\ud45c\ub85c \uad6c\ubd84)"}),(0,K.jsx)("input",{type:"text",value:d.skills,onChange:e=>x({...d,skills:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",placeholder:"\uc608: Figma, \ud504\ub85c\ud1a0\ud0c0\uc774\ud551, UX \ub9ac\uc11c\uce58"})]}),(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc544\uc774\ucf58"}),(0,K.jsx)("input",{type:"text",value:d.icon,onChange:e=>x({...d,icon:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none text-2xl text-center",placeholder:"\uc774\ubaa8\uc9c0"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc0c9\uc0c1"}),(0,K.jsx)("input",{type:"color",value:d.color,onChange:e=>x({...d,color:e.target.value}),className:"w-full h-10 bg-gray-900/50 border border-gray-700 rounded-lg cursor-pointer"})]})]}),(0,K.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,K.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"\ucde8\uc18c"}),(0,K.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"\uc800\uc7a5"})]})]})]})})})},X=e=>{let{nodes:t,onSelect:l,onClose:a}=e;const[i,c]=(0,s.useState)(""),[o,d]=(0,s.useState)([]);return(0,s.useEffect)(()=>{if(i){const e=Object.values(t).filter(e=>{var t,l,s;return e.title.toLowerCase().includes(i.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(l=e.skills)||void 0===l?void 0:l.some(e=>e.toLowerCase().includes(i.toLowerCase())))||(null===(s=e.salary)||void 0===s?void 0:s.toLowerCase().includes(i.toLowerCase()))});d(e)}else d([])},[i,t]),(0,K.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,K.jsx)("div",{className:"relative w-full max-w-2xl mx-4",children:(0,K.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,K.jsx)(n,{className:"w-5 h-5 text-gray-400"}),(0,K.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),placeholder:"\ub178\ub4dc \uac80\uc0c9 (\uc774\ub984, \uc2a4\ud0ac, \uc5f0\ubd09...)",className:"flex-1 px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",autoFocus:!0}),(0,K.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,K.jsx)(r,{className:"w-5 h-5"})})]}),(0,K.jsxs)("div",{className:"max-h-96 overflow-y-auto",children:[o.map(e=>(0,K.jsx)("button",{onClick:()=>{l(e.id),a()},className:"w-full text-left p-3 hover:bg-gray-800/50 rounded-lg transition-colors mb-2",children:(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("span",{className:"text-2xl",children:e.icon}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h4",{className:"font-medium text-white",children:e.title}),(0,K.jsxs)("p",{className:"text-sm text-gray-400",children:[e.year," \xb7 ",e.salary]})]})]})},e.id)),i&&0===o.length&&(0,K.jsx)("p",{className:"text-center text-gray-500 py-8",children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"})]})]})})})},Y=e=>{let{templates:t,onSelectTemplate:l,onClose:s}=e;return(0,K.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,K.jsx)("div",{className:"relative w-full max-w-md mx-4",children:(0,K.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,K.jsx)("h3",{className:"text-xl font-bold text-white",children:"\ub178\ub4dc \ud15c\ud50c\ub9bf"}),(0,K.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:(0,K.jsx)(r,{className:"w-5 h-5"})})]}),(0,K.jsx)("div",{className:"space-y-2",children:[{id:"junior",name:"\uc8fc\ub2c8\uc5b4 \ud15c\ud50c\ub9bf",icon:"\ud83c\udf31",data:{level:0,projectType:"hybrid",year:"1-3\ub144\ucc28"}},{id:"senior",name:"\uc2dc\ub2c8\uc5b4 \ud15c\ud50c\ub9bf",icon:"\u2b50",data:{level:2,projectType:"construction",year:"8-12\ub144\ucc28"}},{id:"manager",name:"\ub9e4\ub2c8\uc800 \ud15c\ud50c\ub9bf",icon:"\ud83d\udc54",data:{level:3,projectType:"hybrid",year:"13-18\ub144\ucc28"}},...t].map(e=>(0,K.jsx)("button",{onClick:()=>{l(e.data),s()},className:"w-full text-left p-4 bg-gray-800/50 hover:bg-gray-700/50 rounded-lg transition-colors",children:(0,K.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,K.jsx)("span",{className:"text-2xl",children:e.icon}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h4",{className:"font-medium text-white",children:e.name}),(0,K.jsxs)("p",{className:"text-sm text-gray-400",children:["\ub808\ubca8 ",e.data.level," \xb7 ",e.data.year]})]})]})},e.id))})]})})})},q=e=>{var t,l;let{initialNodes:a,careerType:r,onAdminModeToggle:q,renderBottomPanel:H}=e;const V=(0,I.zy)(),[U,_]=(0,s.useState)(a),[J,Z]=(0,s.useState)([]),[G,Q]=(0,s.useState)(null),[ee,te]=(0,s.useState)(null),[le,se]=(0,s.useState)("all"),[ae,re]=(0,s.useState)("explore"),[ne,ie]=(0,s.useState)((null===(t=V.state)||void 0===t?void 0:t.isAdminMode)||!1),[ce,oe]=(0,s.useState)(null),[de,xe]=(0,s.useState)(null),[he,ue]=(0,s.useState)(!1),[pe,me]=(0,s.useState)(null),[ge,ye]=(0,s.useState)(null),[be,ve]=(0,s.useState)(!1),[fe,je]=(0,s.useState)(!1),[ke,we]=(0,s.useState)(1),[Ne,Ce]=(0,s.useState)({x:0,y:0}),[Me,Se]=(0,s.useState)(!1),[Ae,$e]=(0,s.useState)([]),[Te,De]=(0,s.useState)(!1),[Ee,Le]=(0,s.useState)(!1),[Oe,ze]=(0,s.useState)(!1),[Re,Be]=(0,s.useState)({x:0,y:0}),[Pe,Ie]=(0,s.useState)(null),[Ke,Fe]=(0,s.useState)([]),[We,Xe]=(0,s.useState)(-1),[Ye,qe]=(0,s.useState)(null),[He,Ve]=(0,s.useState)(!1),[Ue,_e]=(0,s.useState)([]),[Je,Ze]=(0,s.useState)(!1),[Ge,Qe]=(0,s.useState)(!0),[et,tt]=(0,s.useState)(!1),[lt,st]=(0,s.useState)(!1),[at,rt]=(0,s.useState)(0),[nt,it]=(0,s.useState)(null),ct=.25,ot=.1,dt=(0,s.useRef)(null),xt=(0,s.useRef)(null),ht=(0,s.useRef)(null),ut=(0,s.useRef)(null),pt=(0,s.useRef)(null),mt=(0,s.useCallback)(e=>{const t=Ke.slice(0,We+1);t.push(JSON.parse(JSON.stringify(e))),t.length>50&&t.shift(),Fe(t),Xe(t.length-1)},[Ke,We]),gt=(0,s.useCallback)(()=>{if(We>0){const e=Ke[We-1];_(e),Xe(We-1)}},[Ke,We]),yt=(0,s.useCallback)(()=>{if(We<Ke.length-1){const e=Ke[We+1];_(e),Xe(We+1)}},[Ke,We]),bt=(0,s.useCallback)(e=>{if(e.ctrlKey||e.metaKey){e.preventDefault();const t=e.deltaY>0?-.1:ot,l=Math.max(ct,Math.min(2.5,ke+t)),s=xt.current.getBoundingClientRect(),a=e.clientX-s.left,r=e.clientY-s.top,n=l/ke,i={x:a-n*(a-Ne.x),y:r-n*(r-Ne.y)};we(l),Ce(i)}},[ke,Ne]),vt=(0,s.useCallback)(e=>{(1===e.button||0===e.button&&e.shiftKey)&&(e.preventDefault(),Se(!0),ut.current={x:e.clientX-Ne.x,y:e.clientY-Ne.y})},[Ne]),ft=(0,s.useCallback)(e=>{Me&&ut.current&&Ce({x:e.clientX-ut.current.x,y:e.clientY-ut.current.y})},[Me]),jt=(0,s.useCallback)(()=>{Se(!1),ut.current=null},[]),kt=(0,s.useCallback)(()=>{we(1),Ce({x:0,y:0})},[]),wt=(0,s.useCallback)(e=>{if(2===e.touches.length){const t=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY);rt(t)}else 1===e.touches.length&&(pt.current={x:e.touches[0].clientX,y:e.touches[0].clientY})},[]),Nt=(0,s.useCallback)(e=>{if(2===e.touches.length){e.preventDefault();const t=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY);if(at>0){const e=t/at,l=Math.max(ct,Math.min(2.5,ke*e));we(l),rt(t)}}else if(1===e.touches.length&&pt.current){const t=e.touches[0].clientX-pt.current.x,l=e.touches[0].clientY-pt.current.y;Ce(e=>({x:e.x+t,y:e.y+l})),pt.current={x:e.touches[0].clientX,y:e.touches[0].clientY}}},[ke,at]),Ct=(0,s.useCallback)(e=>Ge?.5*Math.round(e/.5):e,[Ge]);(0,s.useEffect)(()=>{const e=e=>{!e.ctrlKey&&!e.metaKey||"z"!==e.key||e.shiftKey||(e.preventDefault(),gt()),(e.ctrlKey||e.metaKey)&&("y"===e.key||"z"===e.key&&e.shiftKey)&&(e.preventDefault(),yt()),(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),ne&&Pt()),(e.ctrlKey||e.metaKey)&&"f"===e.key&&(e.preventDefault(),De(!0)),"Delete"===e.key&&ne&&(Ae.length>0?Lt(Ae):ce&&Et(ce)),"Escape"===e.key&&($e([]),oe(null),ue(!1),me(null)),(e.ctrlKey||e.metaKey)&&"a"===e.key&&ne&&(e.preventDefault(),$e(Object.keys(U))),(e.ctrlKey||e.metaKey)&&"c"===e.key&&ce&&qe(U[ce]),(e.ctrlKey||e.metaKey)&&"v"===e.key&&Ye&&Tt(),"Tab"!==e.key||ne||(e.preventDefault(),Dt())," "!==e.key||e.target.closest("input, textarea")||(e.preventDefault(),document.body.style.cursor="grab")},t=e=>{" "===e.key&&(document.body.style.cursor="default")};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[ne,ce,Ae,U,Ye,gt,yt]);const Mt=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.preventDefault(),ze(!0),Be({x:e.clientX,y:e.clientY}),Ie(t)},[]);(0,s.useEffect)(()=>{const e=()=>ze(!1);return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[]);const St=(0,s.useCallback)(()=>{const e={...U},t={construction:{nodes:[],xRange:[5,25]},hybrid:{nodes:[],xRange:[30,70]},operation:{nodes:[],xRange:[75,95]}},l={};Object.values(U).forEach(e=>{const t=`${e.level}-${e.projectType}`;l[t]||(l[t]=[]),l[t].push(e)});Object.entries(l).forEach(l=>{let[s,a]=l;const[r,n]=s.split("-"),i=t[n].xRange,c=i[1]-i[0],o=a.length;if(0===o)return;const d=8*o+3*(o-1);if(d<=c){const t=(c-d)/2;a.forEach((l,s)=>{e[l.id]={...l,x:i[0]+t+11*s+4}})}else{const t=c/o;a.forEach((l,s)=>{e[l.id]={...l,x:i[0]+t*(s+.5)}})}}),mt(U),_(e),je(!0)},[U,mt]),At=(0,s.useCallback)((e,t)=>{if(t.ctrlKey||t.metaKey)$e(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]);else if(t.shiftKey&&ce){const t=U[ce].level,l=U[e].level,s=Math.min(t,l),a=Math.max(t,l),r=Object.values(U).filter(e=>e.level>=s&&e.level<=a).map(e=>e.id);$e(r)}else oe(e),$e([])},[U,ce]),$t=(0,s.useCallback)(e=>{const t=U[e],l=`node_${Date.now()}`,s={...t,id:l,title:`${t.title} (\ubcf5\uc0ac\ubcf8)`,x:Math.min(95,t.x+5),parents:[],children:[]};mt(U),_(e=>({...e,[l]:s})),je(!0)},[U,mt]),Tt=(0,s.useCallback)(()=>{if(!Ye)return;const e=`node_${Date.now()}`,t={...Ye,id:e,title:`${Ye.title} (\ubd99\uc5ec\ub123\uae30)`,x:Math.min(95,(Ye.x||50)+5),parents:[],children:[]};mt(U),_(l=>({...l,[e]:t})),je(!0)},[Ye,U,mt]),Dt=(0,s.useCallback)(()=>{const e=Object.keys(U);if(0===e.length)return;const t=(e.indexOf(ce||"")+1)%e.length;oe(e[t]);const l=U[e[t]];if(l&&xt.current){const e=document.getElementById(`node-${l.id}`);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}},[U,ce]),Et=(0,s.useCallback)(e=>{if(window.confirm("\uc815\ub9d0 \uc774 \ub178\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){mt(U);const t={...U};if(!t[e])return void console.warn(`Node ${e} not found`);Object.values(t).forEach(t=>{t&&t.parents&&(t.parents=t.parents.filter(t=>t!==e)),t&&t.children&&(t.children=t.children.filter(t=>t!==e))}),delete t[e],_(t),je(!0),ce===e&&oe(null),Ae.includes(e)&&$e(t=>t.filter(t=>t!==e))}},[U,mt,ce,Ae]),Lt=(0,s.useCallback)(e=>{if(window.confirm(`${e.length}\uac1c\uc758 \ub178\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?`)){mt(U);const t={...U};e.forEach(e=>{Object.values(t).forEach(t=>{t&&t.parents&&(t.parents=t.parents.filter(t=>t!==e)),t&&t.children&&(t.children=t.children.filter(t=>t!==e))}),delete t[e]}),_(t),$e([]),je(!0)}},[U,mt]),Ot=(0,s.useCallback)((e,t)=>{if(e===t)return!1;const l=U[e],s=U[t];if(!l||!s)return!1;if(l.level>=s.level)return!1;const a=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(e===t)return!0;if(l.has(e))return!1;l.add(e);const s=U[e];return!(!s||!s.children)&&s.children.some(e=>a(e,t,l))};return!a(t,e)},[U]),zt=(0,s.useCallback)((e,t)=>{var l,s;if(ne&&window.confirm(`${null===(l=U[e])||void 0===l?void 0:l.title}\uc640 ${null===(s=U[t])||void 0===s?void 0:s.title} \uac04\uc758 \uc5f0\uacb0\uc744 \ud574\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?`)){var a,r;mt(U);const l={...U};null!==(a=l[e])&&void 0!==a&&a.children&&(l[e].children=l[e].children.filter(e=>e!==t)),null!==(r=l[t])&&void 0!==r&&r.parents&&(l[t].parents=l[t].parents.filter(t=>t!==e)),_(l),je(!0)}},[U,ne,mt]),Rt=(0,s.useCallback)(e=>{const t=U[e];if(!t||!xt.current)return;const l=150+200*t.level,s=t.x/100*xt.current.clientWidth;Ce({x:xt.current.clientWidth/2-s*ke,y:xt.current.clientHeight/2-l*ke}),oe(e),te(e),setTimeout(()=>te(null),2e3)},[U,ke]),Bt=(0,s.useMemo)(()=>{if(!xt.current)return Object.values(U);const e=-Ne.x/ke,t=(xt.current.clientWidth-Ne.x)/ke,l=-Ne.y/ke,s=(xt.current.clientHeight-Ne.y)/ke;return Object.values(U).filter(a=>{const r=150+200*a.level,n=a.x/100*xt.current.clientWidth,i=100;return n>e-i&&n<t+i&&r>l-i&&r<s+i})},[U,Ne,ke]);(0,s.useEffect)(()=>{const e=localStorage.getItem(`${r}CareerTree`);if(e)try{const t=JSON.parse(e);_(t),Fe([t]),Xe(0)}catch(t){console.error("Failed to load saved data:",t)}},[r]);const Pt=(0,s.useCallback)(()=>{localStorage.setItem(`${r}CareerTree`,JSON.stringify(U)),localStorage.setItem(`${r}Templates`,JSON.stringify(Ue)),je(!1),alert("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")},[r,U,Ue]);(0,s.useEffect)(()=>{const e=()=>{st(window.innerWidth<=768||"ontouchstart"in window)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const It=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(t.has(e))return[];t.add(e);const l=U[e];if(!l||!l.parents||0===l.parents.length)return[e];let s=[e];return l.parents.forEach(e=>{s=s.concat(It(e,t))}),[...new Set(s)]},[U]);(0,s.useEffect)(()=>{const e=dt.current;if(!e||!xt.current)return;const t=e.getContext("2d"),l=xt.current.getBoundingClientRect(),s=window.devicePixelRatio||1;if(e.width=l.width*s,e.height=l.height*s,e.style.width=`${l.width}px`,e.style.height=`${l.height}px`,t.scale(s,s),t.clearRect(0,0,l.width,l.height),t.save(),t.translate(Ne.x,Ne.y),t.scale(ke,ke),Je){t.strokeStyle=et?"rgba(255, 255, 255, 0.1)":"rgba(156, 163, 175, 0.1)",t.lineWidth=.5;const e=.5,s=Math.floor(-Ne.x/ke/e)*e,a=Math.ceil((l.width-Ne.x)/ke/e)*e,r=Math.floor(-Ne.y/ke/e)*e,n=Math.ceil((l.height-Ne.y)/ke/e)*e;for(let l=s;l<=a;l+=e)t.beginPath(),t.moveTo(l,r),t.lineTo(l,n),t.stroke();for(let l=r;l<=n;l+=e)t.beginPath(),t.moveTo(s,l),t.lineTo(a,l),t.stroke()}const a=200,r=document.createElement("canvas");r.width=l.width,r.height=l.height;const n=r.getContext("2d");if(n.save(),n.translate(Ne.x,Ne.y),n.scale(ke,ke),Object.values(U).forEach(e=>{var t;null===(t=e.parents)||void 0===t||t.forEach(t=>{const s=U[t];if(s){const r=s.x/100*l.width,i=150+s.level*a+40,c=e.x/100*l.width,o=150+e.level*a+40,d=J.includes(t)&&J.includes(e.id);let x=!1;if(ee){const l=It(ee),s=Object.values(U).filter(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.includes(ee)}).map(e=>e.id);x=l.includes(t)&&l.includes(e.id)||ee===t&&s.includes(e.id)}const h="target"===ae&&G&&Kt(t,G)&&Kt(e.id,G),u=Ae.includes(t)&&Ae.includes(e.id);if(!d&&!x&&!h&&!u){n.beginPath(),n.moveTo(r,i);const e=i+(o-i)/2;n.lineTo(r,e),n.lineTo(c,e),n.lineTo(c,o),n.strokeStyle=et?"#484848ff":"#363636ff",n.lineWidth=ke<.5?1:1.5,n.stroke()}}})}),n.restore(),t.save(),t.globalAlpha=.7,t.drawImage(r,0,0),t.restore(),t.save(),t.translate(Ne.x,Ne.y),t.scale(ke,ke),Object.values(U).forEach(e=>{var s;null===(s=e.parents)||void 0===s||s.forEach(s=>{const r=U[s];if(r){const n=r.x/100*l.width,i=150+r.level*a+40,c=e.x/100*l.width,o=150+e.level*a+40,d=J.includes(s)&&J.includes(e.id);let x=!1;if(ee){const t=It(ee),l=Object.values(U).filter(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.includes(ee)}).map(e=>e.id);x=t.includes(s)&&t.includes(e.id)||ee===s&&l.includes(e.id)}const h="target"===ae&&G&&Kt(s,G)&&Kt(e.id,G),u=Ae.includes(s)&&Ae.includes(e.id);if(d||x||h||u){t.beginPath(),t.moveTo(n,i);const e=i+(o-i)/2;if(t.lineTo(n,e),t.lineTo(c,e),t.lineTo(c,o),d||h||u?(t.strokeStyle=et?"#FFD700":"#DAA520",t.lineWidth=3,t.shadowColor="#DAA520",t.shadowBlur=8):x&&(t.strokeStyle="#ad9469ff",t.lineWidth=2.5,t.shadowColor="#DAA520",t.shadowBlur=0),t.stroke(),t.shadowBlur=0,ke>.5){const e=c,l=o-5,s=8;t.beginPath(),t.moveTo(e-.5*s,l),t.lineTo(e,l-s),t.moveTo(e+.5*s,l),t.lineTo(e,l-s),t.stroke()}}}})}),t.restore(),he&&pe&&ee&&ee!==pe){const e=U[pe],s=U[ee];if(e&&s){const r=e.x/100*l.width,n=150+e.level*a+40,i=s.x/100*l.width,c=150+s.level*a+40;t.beginPath(),t.moveTo(r,n),t.lineTo(i,c),Ot(pe,ee)?t.strokeStyle="rgba(34, 197, 94, 0.6)":t.strokeStyle="rgba(239, 68, 68, 0.6)",t.lineWidth=2,t.setLineDash([8,4]),t.stroke(),t.setLineDash([])}}t.restore()},[U,J,G,ae,ne,he,pe,ee,ke,Ne,Je,Ae,et,Ot,It]),(0,s.useEffect)(()=>{if(!Ee||!ht.current||!xt.current)return;const e=ht.current,t=e.getContext("2d"),l=xt.current.getBoundingClientRect(),s=200,a=150,r=Math.min(s/l.width,.125);e.width=s,e.height=a,t.clearRect(0,0,s,a),t.fillStyle="rgba(0, 0, 0, 0.8)",t.fillRect(0,0,s,a),Object.values(U).forEach(e=>{const s=e.x/100*l.width*r,a=(150+180*e.level)*r;t.fillStyle=Ae.includes(e.id)||ce===e.id?"#DAA520":"#6B7280",t.fillRect(s-2,a-1,4,2)}),t.strokeStyle="#DAA520",t.lineWidth=2,t.strokeRect(-Ne.x*r/ke,-Ne.y*r/ke,l.width*r/ke,l.height*r/ke)},[U,Ee,Ne,ke,ce,Ae]);const Kt=(0,s.useCallback)((e,t)=>{if(e===t)return!0;const l=new Set,s=[e];for(;s.length>0;){var a,r;const e=s.shift();if(l.has(e))continue;l.add(e);const n=U[e];if(n){if(null!==(a=n.children)&&void 0!==a&&a.includes(t))return!0;null===(r=n.children)||void 0===r||r.forEach(e=>{!l.has(e)&&U[e]&&s.push(e)})}}return!1},[U]),Ft=(0,s.useCallback)(e=>"all"===le||(le===e.projectType||(!!ne||(!!J.includes(e.id)||!("target"!==ae||!G||!Kt(e.id,G))))),[le,ne,J,ae,G,Kt]),Wt=(0,s.useCallback)((e,t)=>{if(ne&&he)if(pe){if(pe!==e){if(Ot(pe,e)){mt(U);const t={...U};if(!t[pe]||!t[e])return alert("\ub178\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),void me(null);t[pe].children||(t[pe].children=[]),t[e].parents||(t[e].parents=[]),t[pe].children.includes(e)||t[pe].children.push(e),t[e].parents.includes(pe)||t[e].parents.push(pe),_(t),je(!0)}else alert("\uc774 \uc5f0\uacb0\uc740 \ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (\ub808\ubca8 \uc81c\uc57d \ub610\ub294 \uc21c\ud658 \ucc38\uc870)");ue(!1),me(null)}}else me(e);else if(ne)At(e,t);else if("explore"===ae){var l;const t=U[e],s=J[J.length-1];if(J.includes(e)){const t=J.indexOf(e);return void Z(J.slice(0,t+1))}0===J.length&&0===t.parents.length?Z([e]):s&&null!==(l=U[s].children)&&void 0!==l&&l.includes(e)&&Z([...J,e])}else"target"===ae&&Q(e)},[ne,he,pe,U,ae,J,At,Ot,mt]),Xt=(0,s.useCallback)((e,t)=>{ne&&(Ae.includes(t)?ye(Ae):ye(t),e.dataTransfer.effectAllowed="move")},[ne,Ae]),Yt=(0,s.useCallback)(e=>{if(e.preventDefault(),e.dataTransfer.dropEffect="move",Ge&&xt.current){const t=xt.current.getBoundingClientRect(),l=(e.clientX-t.left-Ne.x)/ke/t.width*100;Ct(l)}},[Ge,Ne,ke,Ct]),qt=(0,s.useCallback)(e=>{if(e.preventDefault(),!ge||!xt.current)return;const t=xt.current.getBoundingClientRect();let l=(e.clientX-t.left-Ne.x)/ke/t.width*100;const s=(e.clientY-t.top-Ne.y)/ke,a=Math.max(0,Math.min(6,Math.floor((s-150)/200)));if(Ge&&(l=Ct(l)),l=Math.max(0,Math.min(100,l)),mt(U),Array.isArray(ge)){const e=l-U[ge[0]].x,t=a-U[ge[0]].level,s={...U};ge.forEach(l=>{s[l]={...s[l],x:Math.max(5,Math.min(95,s[l].x+e)),level:Math.max(0,Math.min(6,s[l].level+t))}}),_(s)}else _(e=>({...e,[ge]:{...e[ge],x:l,level:a}}));ye(null),je(!0)},[ge,U,Ne,ke,Ge,Ct,mt]),Ht=(0,s.useCallback)(e=>{if(!ne||e.target!==xt.current)return;const t=xt.current.getBoundingClientRect(),l=(e.clientX-t.left-Ne.x)/ke/t.width*100,s=(e.clientY-t.top-Ne.y)/ke,a=Math.max(0,Math.min(6,Math.floor((s-150)/180))),r=`node_${Date.now()}`,n={id:r,title:"\uc0c8 \uc9c1\ubb34",year:"\uacbd\ub825",salary:"\uc5f0\ubd09",level:a,x:Ge?Ct(l):l,projectType:"hybrid",description:"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:[],parents:[],children:[],color:"#6B7280",icon:"\ud83d\udcbc"};mt(U),_(e=>({...e,[r]:n})),xe(r),je(!0)},[ne,U,Ne,ke,Ge,Ct,mt]),Vt=(0,s.useCallback)(e=>{const t=`node_${Date.now()}`,l={id:t,title:e.title||"\uc0c8 \uc9c1\ubb34",year:e.year||"\uacbd\ub825",salary:e.salary||"\uc5f0\ubd09",level:e.level||0,x:50,projectType:e.projectType||"hybrid",description:e.description||"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:e.skills||[],parents:[],children:[],color:e.color||"#6B7280",icon:e.icon||"\ud83d\udcbc"};mt(U),_(e=>({...e,[t]:l})),xe(t),je(!0)},[U,mt]),Ut=(0,s.useCallback)(()=>{const e={nodes:U,templates:Ue,metadata:{careerType:r,exportDate:(new Date).toISOString(),version:"2.0"}},t=JSON.stringify(e,null,2),l="data:application/json;charset=utf-8,"+encodeURIComponent(t),s=`${r}_career_path_${(new Date).toISOString().slice(0,10)}.json`,a=document.createElement("a");a.setAttribute("href",l),a.setAttribute("download",s),a.click()},[U,Ue,r]),_t=(0,s.useCallback)(()=>{const e=`${r}Nodes`,t=`// ${r.charAt(0).toUpperCase()+r.slice(1)}Path.js\n// \uc790\ub3d9 \uc0dd\uc131\ub41c \ud30c\uc77c - ${(new Date).toISOString()}\nimport React from 'react';\nimport AnimatedBackground from '../common/AnimatedBackground';\nimport CareerPathViewer from '../common/CareerPathViewer';\n\nconst ${r.charAt(0).toUpperCase()+r.slice(1)}Path = () => {\n  const ${e} = ${JSON.stringify(U,null,4).replace(/"([^"]+)":/g,"$1:")};\n\n  const renderBottomPanel = ({ viewMode, selectedPath, targetNode, nodes }) => {\n    const getNodeInfo = (nodeId) => {\n      const node = nodes[nodeId];\n      return node ? \`\${node.title} (\${node.year})\` : '';\n    };\n\n    return (\n      <div className="fixed bottom-0 left-0 right-0 p-4 bg-black/90 backdrop-blur-xl border-t border-gray-700/50">\n        <div className="max-w-7xl mx-auto">\n          {viewMode === 'explore' && selectedPath.length > 0 && (\n            <div className="text-sm text-gray-300">\n              <span className="text-gray-500">\uc120\ud0dd\ub41c \uacbd\ub85c:</span> {selectedPath.map(getNodeInfo).join(' \u2192 ')}\n            </div>\n          )}\n          {viewMode === 'target' && targetNode && (\n            <div className="text-sm text-gray-300">\n              <span className="text-gray-500">\ubaa9\ud45c:</span> {getNodeInfo(targetNode)}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <AnimatedBackground>\n      <div className="min-h-screen">\n        <div className="px-6 pt-6">\n          <h1 className="text-4xl font-bold mb-2">\n            <span className="metallic-text">${Jt(r)} \ucee4\ub9ac\uc5b4\ud328\uc2a4</span>\n          </h1>\n          <p className="text-gray-400 mb-6">\n            ${Zt(r)}\n          </p>\n        </div>\n        \n        <CareerPathViewer \n          initialNodes={${e}}\n          careerType="${r}"\n          renderBottomPanel={renderBottomPanel}\n        />\n      </div>\n    </AnimatedBackground>\n  );\n};\n\nexport default ${r.charAt(0).toUpperCase()+r.slice(1)}Path;`,l=new Blob([t],{type:"text/javascript"}),s=URL.createObjectURL(l),a=document.createElement("a");a.href=s,a.download=`${r.charAt(0).toUpperCase()+r.slice(1)}Path.js`,a.click(),URL.revokeObjectURL(s)},[U,r]),Jt=e=>({designer:"\uc6f9 \ub514\uc790\uc774\ub108",publisher:"\uc6f9 \ud37c\ube14\ub9ac\uc154",planner:"\uc6f9 \uae30\ud68d\uc790",admin:"\uacbd\uc601\uc9c0\uc6d0"}[e]||e),Zt=e=>({designer:"\ube44\uc8fc\uc5bc \ub514\uc790\uc778\ubd80\ud130 UI/UX, \uadf8\ub9ac\uace0 \ud06c\ub9ac\uc5d0\uc774\ud2f0\ube0c \ub9ac\ub354\uc2ed\uae4c\uc9c0",publisher:"HTML/CSS\ubd80\ud130 \ud504\ub860\ud2b8\uc5d4\ub4dc \uac1c\ubc1c, \uadf8\ub9ac\uace0 \uae30\uc220 \ub9ac\ub354\uc2ed\uae4c\uc9c0",planner:"\uc11c\ube44\uc2a4 \uae30\ud68d\ubd80\ud130 \ud504\ub85c\ub355\ud2b8 \ub9e4\ub2c8\uc9c0\uba3c\ud2b8, \uadf8\ub9ac\uace0 \ube44\uc988\ub2c8\uc2a4 \ub9ac\ub354\uc2ed\uae4c\uc9c0",admin:"\ud68c\uacc4/\uc778\uc0ac/\ucd1d\ubb34\ubd80\ud130 \uc804\ub7b5 \uae30\ud68d, \uadf8\ub9ac\uace0 \uacbd\uc601 \ub9ac\ub354\uc2ed\uae4c\uc9c0"}[e]||"\ucee4\ub9ac\uc5b4 \uc131\uc7a5 \uacbd\ub85c"),Gt=(0,s.useCallback)(e=>{const t=e.target.files[0];if(!t)return;const l=new FileReader;l.onload=e=>{try{var t;const l=JSON.parse(e.target.result);null!==(t=l.metadata)&&void 0!==t&&t.version?(_(l.nodes),_e(l.templates||[])):_(l),mt(U),je(!0),alert("\ub370\uc774\ud130\ub97c \uc131\uacf5\uc801\uc73c\ub85c \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4!")}catch(l){alert("\ud30c\uc77c\uc744 \uc77d\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}},l.readAsText(t)},[U,mt]);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"relative z-10 px-6 pb-4",children:(0,K.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-xl border border-gray-700/50 p-4",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,K.jsxs)("div",{className:"flex items-center space-x-4 flex-wrap",children:[(0,K.jsxs)("button",{onClick:()=>window.location.href="/career-selection",className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,K.jsx)(i.A,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm",children:"\uc9c1\ubb34 \uc120\ud0dd"})]}),(0,K.jsx)("div",{className:"h-6 w-px bg-gray-700"}),(0,K.jsxs)("button",{onClick:()=>{ne?(ie(!1),ue(!1),me(null),oe(null),$e([])):ve(!0)},className:"px-4 py-2 rounded-lg flex items-center space-x-2 transition-all "+(ne?"bg-gray-700 text-white":"bg-gray-900/50 text-gray-400 hover:bg-gray-800/50"),children:[ne?(0,K.jsx)(c,{className:"w-4 h-4"}):(0,K.jsx)(o,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\uad00\ub9ac\uc790 \ubaa8\ub4dc"})]}),!ne&&(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsxs)("button",{onClick:()=>{re("explore"),Q(null)},className:"px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors "+("explore"===ae?"bg-gray-700 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-400"),children:[(0,K.jsx)(d.A,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm",children:"\uacbd\ub85c \ud0d0\uc0c9"})]}),(0,K.jsxs)("button",{onClick:()=>{re("target"),Z([])},className:"px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors "+("target"===ae?"bg-gray-700 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-400"),children:[(0,K.jsx)(x,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm",children:"\ubaa9\ud45c \uc124\uc815"})]})]})}),(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsx)(h,{className:"w-4 h-4 text-gray-500"}),(0,K.jsxs)("select",{value:le,onChange:e=>se(e.target.value),className:"px-3 py-1.5 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-300 focus:border-gray-500 focus:outline-none",children:[(0,K.jsx)("option",{value:"all",children:"\uc804\uccb4 \ubcf4\uae30"}),(0,K.jsx)("option",{value:"construction",children:"\uad6c\ucd95 \ud504\ub85c\uc81d\ud2b8"}),(0,K.jsx)("option",{value:"operation",children:"\uc6b4\uc601 \ud504\ub85c\uc81d\ud2b8"}),(0,K.jsx)("option",{value:"hybrid",children:"\ubcf5\ud569\ud615"})]})]}),(0,K.jsxs)("button",{onClick:()=>De(!0),className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"Ctrl+F",children:[(0,K.jsx)(n,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uac80\uc0c9"})]}),(0,K.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,K.jsx)("button",{onClick:()=>we(Math.max(ct,ke-ot)),className:"p-1.5 bg-gray-800 hover:bg-gray-700 rounded transition-colors",title:"\ucd95\uc18c",children:(0,K.jsx)(u,{className:"w-4 h-4"})}),(0,K.jsxs)("span",{className:"text-sm text-gray-400 w-12 text-center",children:[Math.round(100*ke),"%"]}),(0,K.jsx)("button",{onClick:()=>we(Math.min(2.5,ke+ot)),className:"p-1.5 bg-gray-800 hover:bg-gray-700 rounded transition-colors",title:"\ud655\ub300",children:(0,K.jsx)(p,{className:"w-4 h-4"})}),(0,K.jsx)("button",{onClick:kt,className:"p-1.5 bg-gray-800 hover:bg-gray-700 rounded transition-colors",title:"\ubdf0 \ucd08\uae30\ud654",children:(0,K.jsx)(m,{className:"w-4 h-4"})})]}),(0,K.jsxs)("button",{onClick:()=>{ne?(oe(null),$e([]),ue(!1),me(null)):(Z([]),Q(null))},className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,K.jsx)(g,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm hidden sm:inline",children:"\ucd08\uae30\ud654"})]}),ne&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"h-6 w-px bg-gray-700"}),(0,K.jsxs)("button",{onClick:()=>{const e=`node_${Date.now()}`,t={id:e,title:"\uc0c8 \uc9c1\ubb34",year:"\uacbd\ub825",salary:"\uc5f0\ubd09",level:0,x:50,projectType:"hybrid",description:"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:[],parents:[],children:[],color:"#6B7280",icon:"\ud83d\udcbc"};mt(U),_(l=>({...l,[e]:t})),xe(e),je(!0)},className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\uc0c8 \ub178\ub4dc \ucd94\uac00",children:[(0,K.jsx)(y,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm hidden sm:inline",children:"\ub178\ub4dc \ucd94\uac00"})]}),(0,K.jsxs)("button",{onClick:()=>Ve(!0),className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\ud15c\ud50c\ub9bf\uc5d0\uc11c \ucd94\uac00",children:[(0,K.jsx)(b,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm hidden sm:inline",children:"\ud15c\ud50c\ub9bf"})]}),(0,K.jsxs)("button",{onClick:()=>{ue(!he),me(null),re("explore")},className:"px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors "+(he?"bg-gray-600 text-white":"bg-gray-800 hover:bg-gray-700"),title:"\uc5f0\uacb0 \ubaa8\ub4dc",children:[(0,K.jsx)(v,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uc5f0\uacb0"})]}),(0,K.jsxs)("button",{onClick:St,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\uc790\ub3d9 \uc815\ub82c",children:[(0,K.jsx)(f,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uc790\ub3d9 \uc815\ub82c"})]}),(0,K.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,K.jsx)("button",{onClick:gt,disabled:We<=0,className:"p-1.5 rounded transition-colors "+(We>0?"bg-gray-800 hover:bg-gray-700":"bg-gray-900 text-gray-600 cursor-not-allowed"),title:"\uc2e4\ud589 \ucde8\uc18c (Ctrl+Z)",children:(0,K.jsx)(j,{className:"w-4 h-4"})}),(0,K.jsx)("button",{onClick:yt,disabled:We>=Ke.length-1,className:"p-1.5 rounded transition-colors "+(We<Ke.length-1?"bg-gray-800 hover:bg-gray-700":"bg-gray-900 text-gray-600 cursor-not-allowed"),title:"\ub2e4\uc2dc \uc2e4\ud589 (Ctrl+Y)",children:(0,K.jsx)(k,{className:"w-4 h-4"})})]}),(0,K.jsx)("div",{className:"h-6 w-px bg-gray-700"}),(0,K.jsxs)("button",{onClick:Pt,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\uc800\uc7a5 (Ctrl+S)",children:[(0,K.jsx)(w,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uc800\uc7a5"})]}),(0,K.jsxs)("button",{onClick:Ut,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,K.jsx)(N,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm hidden sm:inline",children:"JSON \ub0b4\ubcf4\ub0b4\uae30"})]}),(0,K.jsxs)("button",{onClick:_t,className:"px-3 py-2 bg-purple-800 hover:bg-purple-700 rounded-lg flex items-center space-x-2 transition-colors",title:"JS \ud30c\uc77c\ub85c \ub0b4\ubcf4\ub0b4\uae30",children:[(0,K.jsx)(C,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm hidden sm:inline",children:"JS \ub0b4\ubcf4\ub0b4\uae30"})]}),(0,K.jsxs)("label",{className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors cursor-pointer",children:[(0,K.jsx)(M,{className:"w-4 h-4"}),(0,K.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uac00\uc838\uc624\uae30"}),(0,K.jsx)("input",{type:"file",accept:".json",onChange:Gt,className:"hidden"})]})]})]}),(0,K.jsxs)("div",{className:"flex items-center space-x-4",children:[fe&&ne&&(0,K.jsxs)("span",{className:"text-yellow-400 text-sm flex items-center",children:[(0,K.jsx)(S,{className:"w-4 h-4 mr-1"}),"\uc800\uc7a5\ub418\uc9c0 \uc54a\uc74c"]}),(0,K.jsxs)("div",{className:"text-sm text-gray-400",children:["explore"===ae&&J.length>0&&!ne&&(0,K.jsxs)("span",{children:["\uacbd\ub85c: ",J.length,"\ub2e8\uacc4"]}),"target"===ae&&G&&!ne&&(0,K.jsxs)("span",{children:["\ubaa9\ud45c: ",null===(l=U[G])||void 0===l?void 0:l.title]}),ne&&he&&(0,K.jsx)("span",{children:pe?"\uc5f0\uacb0\ud560 \ub178\ub4dc \uc120\ud0dd":"\uc2dc\uc791 \ub178\ub4dc \uc120\ud0dd"}),ne&&Ae.length>0&&(0,K.jsxs)("span",{children:[Ae.length,"\uac1c \uc120\ud0dd\ub428"]})]})]})]}),ne&&(0,K.jsxs)("div",{className:"flex items-center space-x-4 mt-3 pt-3 border-t border-gray-700",children:[(0,K.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,K.jsx)("input",{type:"checkbox",checked:Je,onChange:e=>Ze(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,K.jsx)(A,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\uadf8\ub9ac\ub4dc"})]}),(0,K.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,K.jsx)("input",{type:"checkbox",checked:Ge,onChange:e=>Qe(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,K.jsx)($,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\uc2a4\ub0c5"})]}),(0,K.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,K.jsx)("input",{type:"checkbox",checked:Ee,onChange:e=>Le(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,K.jsx)(T,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\ubbf8\ub2c8\ub9f5"})]}),(0,K.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,K.jsx)("input",{type:"checkbox",checked:et,onChange:e=>tt(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,K.jsx)(T,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\uace0\ub300\ube44"})]}),(0,K.jsx)("div",{className:"h-6 w-px bg-gray-700"}),(0,K.jsxs)("button",{onClick:()=>alert("\ud0a4\ubcf4\ub4dc \ub2e8\ucd95\ud0a4:\n\nCtrl+Z: \uc2e4\ud589 \ucde8\uc18c\nCtrl+Y: \ub2e4\uc2dc \uc2e4\ud589\nCtrl+S: \uc800\uc7a5\nCtrl+F: \uac80\uc0c9\nCtrl+A: \uc804\uccb4 \uc120\ud0dd\nCtrl+C: \ub178\ub4dc \ubcf5\uc0ac\nCtrl+V: \ub178\ub4dc \ubd99\uc5ec\ub123\uae30\nDelete: \uc120\ud0dd \uc0ad\uc81c\nTab: \ub2e4\uc74c \ub178\ub4dc\nSpace+\ub4dc\ub798\uadf8: \ud32c\nCtrl+\ud720: \uc90c\nEscape: \ucde8\uc18c"),className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors text-sm",children:[(0,K.jsx)(D,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\ub2e8\ucd95\ud0a4"})]})]})]})}),(0,K.jsxs)("div",{ref:xt,className:"relative mx-auto",style:{width:"100%",height:"1600px",minHeight:"600px",cursor:Me?"grabbing":"default",touchAction:"none"},onMouseDown:vt,onMouseMove:ft,onMouseUp:jt,onMouseLeave:jt,onWheel:bt,onDragOver:Yt,onDrop:qt,onDoubleClick:Ht,onContextMenu:e=>Mt(e),onTouchStart:wt,onTouchMove:Nt,children:[(0,K.jsx)("canvas",{ref:dt,className:"absolute inset-0 w-full h-full pointer-events-none",style:{imageRendering:"crisp-edges"}}),(0,K.jsxs)("div",{style:{transform:`translate(${Ne.x}px, ${Ne.y}px) scale(${ke})`,transformOrigin:"0 0",position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[ne&&(0,K.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,K.jsx)("div",{className:"absolute top-0 bottom-0 left-0 w-[25%] bg-blue-500/5 border-r border-blue-500/20",children:(0,K.jsx)("span",{className:"absolute top-4 left-4 text-xs text-blue-500/50",children:"\uad6c\ucd95"})}),(0,K.jsx)("div",{className:"absolute top-0 bottom-0 left-[25%] w-[50%] bg-gray-500/5 border-r border-gray-500/20",children:(0,K.jsx)("span",{className:"absolute top-4 left-4 text-xs text-gray-500/50",children:"\ubcf5\ud569"})}),(0,K.jsx)("div",{className:"absolute top-0 bottom-0 left-[75%] w-[25%] bg-green-500/5",children:(0,K.jsx)("span",{className:"absolute top-4 left-4 text-xs text-green-500/50",children:"\uc6b4\uc601"})})]}),[0,1,2,3,4,5,6].map(e=>(0,K.jsx)("div",{className:"absolute left-0 right-0 border-t-2 border-dashed",style:{top:150+200*e-40+"px",borderColor:"rgba(107, 114, 128, 0.15)"},children:(0,K.jsxs)("span",{className:"absolute -top-3 left-4 px-2 bg-black text-xs text-gray-400",children:[0===e&&"\uc785\ubb38 (1-3\ub144\ucc28)",1===e&&"\uccb4\uacc4\ud654 (4-7\ub144\ucc28)",2===e&&"\uc804\ubb38\ud654 (8-12\ub144\ucc28)",3===e&&"\uc8fc\ub3c4\ud654 (13-18\ub144\ucc28)",4===e&&"\ucc28\ubcc4\ud654 (20\ub144\ucc28+)",5===e&&"\uc804\ub7b5\ud654 (25\ub144\ucc28+)",6===e&&"\ucd5c\uace0 \uacbd\uc601\uc790"]})},e)),ne&&(0,K.jsx)("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%"},children:Object.values(U).map(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.map(t=>{var l,s;const a=U[t];if(!a)return null;const r=a.x/100*((null===(l=xt.current)||void 0===l?void 0:l.clientWidth)||1e3),n=150+200*a.level+40,i=e.x/100*((null===(s=xt.current)||void 0===s?void 0:s.clientWidth)||1e3),c=150+200*e.level+40,o=n+(c-n)/2,d=`${t}-${e.id}`,x=nt===d;return(0,K.jsxs)("g",{children:[(0,K.jsx)("path",{d:`M ${r} ${n} L ${r} ${o} L ${i} ${o} L ${i} ${c}`,stroke:"transparent",strokeWidth:"20",fill:"none",className:"pointer-events-auto cursor-pointer",onClick:()=>zt(t,e.id),onMouseEnter:()=>it(d),onMouseLeave:()=>it(null)}),(0,K.jsx)("path",{d:`M ${r} ${n} L ${r} ${o} L ${i} ${o} L ${i} ${c}`,stroke:x?"#EF4444":"transparent",strokeWidth:x?"3":"0",fill:"none",className:"pointer-events-none",strokeDasharray:x?"5,5":"none"}),x&&(0,K.jsxs)("g",{transform:`translate(${(r+i)/2}, ${o})`,children:[(0,K.jsx)("circle",{r:"12",fill:"#EF4444"}),(0,K.jsx)("text",{x:"0",y:"0",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"16",fontWeight:"bold",className:"pointer-events-none select-none",children:"\xd7"})]})]},d)})})}),Bt.map(e=>{var t,l;const s=150+200*e.level,a=Ft(e),r=J.includes(e.id),n=!ne&&"explore"===ae&&(0===J.length?0===e.parents.length:null===(t=U[J[J.length-1]])||void 0===t||null===(l=t.children)||void 0===l?void 0:l.includes(e.id)),i="target"===ae&&G&&Kt(e.id,G),c=ce===e.id||Ae.includes(e.id);return(0,K.jsxs)("div",{id:`node-${e.id}`,className:`absolute transform -translate-x-1/2 transition-all duration-300 ${a?"opacity-100":"opacity-20"} ${n||"target"===ae||ne?"cursor-pointer":"cursor-default"}`,style:{left:`${e.x}%`,top:`${s}px`,zIndex:r||i||c?50:ee===e.id?40:30},draggable:ne,onDragStart:t=>Xt(t,e.id),onMouseEnter:()=>te(e.id),onMouseLeave:()=>te(null),onClick:t=>Wt(e.id,t),onDoubleClick:()=>{ne&&xe(e.id)},onContextMenu:t=>Mt(t,e.id),role:"button",tabIndex:0,"aria-label":`${e.title} - ${e.year} - ${e.salary}`,"aria-selected":c,children:[(r||ee===e.id||i||c)&&(0,K.jsx)("div",{className:"absolute inset-0 w-40 h-40 rounded-full filter blur-3xl opacity-30 pointer-events-none",style:{backgroundColor:et?"#FFD700":e.color}}),(0,K.jsxs)("div",{className:`relative backdrop-blur-xl rounded-2xl border transition-all duration-300 p-4 ${r||G===e.id||c?"bg-gray-600/30 border-gray-400/50 shadow-2xl scale-105":i?"bg-gray-700/30 border-gray-500/50 shadow-xl":n?"bg-black/80 border-gray-500/50 animate-pulse":pe===e.id?"bg-gray-600/30 border-gray-400/50 shadow-2xl scale-110":ee===e.id?"bg-black/80 border-gray-600/50 scale-105":"bg-black/70 border-gray-700/50"} w-42`,children:[ne&&ee===e.id&&(0,K.jsxs)("div",{className:"absolute -top-3 -right-3 flex space-x-1",children:[(0,K.jsx)("button",{onClick:t=>{t.stopPropagation(),xe(e.id)},className:"w-7 h-7 bg-gray-700 hover:bg-gray-600 rounded-full flex items-center justify-center transition-colors",title:"\ud3b8\uc9d1",children:(0,K.jsx)(E,{className:"w-3 h-3"})}),(0,K.jsx)("button",{onClick:t=>{t.stopPropagation(),$t(e.id)},className:"w-7 h-7 bg-gray-700 hover:bg-gray-600 rounded-full flex items-center justify-center transition-colors",title:"\ubcf5\uc81c",children:(0,K.jsx)(L,{className:"w-3 h-3"})}),(0,K.jsx)("button",{onClick:t=>{t.stopPropagation(),Et(e.id)},className:"w-7 h-7 bg-red-700 hover:bg-red-600 rounded-full flex items-center justify-center transition-colors",title:"\uc0ad\uc81c",children:(0,K.jsx)(O,{className:"w-3 h-3"})})]}),n&&(0,K.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gray-500 rounded-full flex items-center justify-center animate-pulse",children:(0,K.jsx)(d.A,{className:"w-3 h-3"})}),G===e.id&&(0,K.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-white rounded-full flex items-center justify-center",children:(0,K.jsx)(x,{className:"w-3 h-3 text-black"})}),Ae.includes(e.id)&&(0,K.jsx)("div",{className:"absolute -top-2 -left-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,K.jsx)(z,{className:"w-3 h-3"})}),!Ae.includes(e.id)&&(0,K.jsxs)("div",{className:"absolute -top-2 -left-2 w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center text-xs font-bold",children:["L",e.level]}),he&&pe&&pe!==e.id&&(0,K.jsx)("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 w-6 h-6 rounded-full flex items-center justify-center",children:Ot(pe,e.id)?(0,K.jsx)(z,{className:"w-5 h-5 text-green-500"}):(0,K.jsx)(R,{className:"w-5 h-5 text-red-500"})}),(0,K.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,K.jsx)("span",{className:"text-2xl",children:e.icon}),(0,K.jsxs)("div",{className:"flex-1",children:[(0,K.jsx)("h3",{className:"font-bold text-sm mb-1 "+(et?"text-white":""),children:e.title}),(0,K.jsx)("p",{className:"text-xs mt-1 "+(et?"text-gray-100":"text-gray-300"),children:e.salary})]})]}),(0,K.jsx)("div",{className:"mt-3 flex items-center justify-end",children:(0,K.jsx)("span",{className:"text-xs px-2 py-1 rounded-full font-medium "+("operation"===e.projectType?"bg-green-600/30 text-green-300 border border-green-500/30":"construction"===e.projectType?"bg-blue-600/30 text-blue-300 border border-blue-500/30":"bg-purple-600/30 text-purple-300 border border-purple-500/30"),children:"operation"===e.projectType?"\uc6b4\uc601":"construction"===e.projectType?"\uad6c\ucd95":"\ubcf5\ud569"})}),he&&pe===e.id&&(0,K.jsx)("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:(0,K.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"})})]}),ee===e.id&&!lt&&(0,K.jsxs)("div",{className:"absolute top-0 w-72 p-4 backdrop-blur-xl bg-black/90 rounded-xl border border-gray-700/50 shadow-2xl z-50 "+(e.x>=80?"right-full mr-4":"left-full ml-4"),children:[(0,K.jsx)("h4",{className:"font-bold mb-2",children:e.title}),(0,K.jsx)("p",{className:"text-sm text-gray-300 mb-3",children:e.description}),e.skills&&e.skills.length>0&&(0,K.jsxs)("div",{className:"mb-3",children:[(0,K.jsx)("p",{className:"text-xs font-medium text-gray-400 mb-1",children:"\ud544\uc694 \uc2a4\ud0ac"}),(0,K.jsx)("div",{className:"flex flex-wrap gap-1",children:e.skills.map((e,t)=>(0,K.jsx)("span",{className:"text-xs px-2 py-1 bg-gray-800/50 rounded",children:e},t))})]}),(0,K.jsx)("div",{className:"pt-3 border-t border-gray-700",children:(0,K.jsx)("p",{className:"text-xs text-gray-500",children:ne?"\ub354\ube14\ud074\ub9ad: \ud3b8\uc9d1 | \uc6b0\ud074\ub9ad: \uba54\ub274":"explore"===ae?"\ud074\ub9ad\ud558\uc5ec \uacbd\ub85c \uc120\ud0dd":"\ud074\ub9ad\ud558\uc5ec \ubaa9\ud45c \uc124\uc815"})})]})]},e.id)})]}),Ee&&(0,K.jsx)("div",{className:"absolute bottom-4 right-4 w-52 h-40 bg-black/80 rounded-lg border border-gray-700/50 overflow-hidden",children:(0,K.jsx)("canvas",{ref:ht,className:"w-full h-full cursor-pointer",onClick:e=>{const t=e.currentTarget.getBoundingClientRect(),l=(e.clientX-t.left)/t.width,s=(e.clientY-t.top)/t.height;Ce({x:-l*xt.current.clientWidth*ke+xt.current.clientWidth/2,y:1200*-s*ke+xt.current.clientHeight/2})}})}),Oe&&(0,K.jsx)("div",{className:"absolute z-50 bg-gray-900 rounded-lg border border-gray-700 shadow-xl py-2",style:{left:`${Re.x}px`,top:`${Re.y}px`},children:Pe?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("button",{onClick:()=>{xe(Pe),ze(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,K.jsx)(E,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\ud3b8\uc9d1"})]}),(0,K.jsxs)("button",{onClick:()=>{$t(Pe),ze(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,K.jsx)(L,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\ubcf5\uc81c"})]}),(0,K.jsxs)("button",{onClick:()=>{qe(U[Pe]),ze(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,K.jsx)(B,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\ubcf5\uc0ac"})]}),(0,K.jsx)("div",{className:"h-px bg-gray-700 my-1"}),(0,K.jsxs)("button",{onClick:()=>{Et(Pe),ze(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2 text-red-400",children:[(0,K.jsx)(O,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\uc0ad\uc81c"})]})]}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("button",{onClick:()=>{const e=xt.current.getBoundingClientRect(),t=(Re.x-e.left-Ne.x)/ke/e.width*100,l=(Re.y-e.top-Ne.y)/ke,s=Math.max(0,Math.min(6,Math.floor((l-150)/180))),a=`node_${Date.now()}`,r={id:a,title:"\uc0c8 \uc9c1\ubb34",year:"\uacbd\ub825",salary:"\uc5f0\ubd09",level:s,x:Ge?Ct(t):t,projectType:"hybrid",description:"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:[],parents:[],children:[],color:"#6B7280",icon:"\ud83d\udcbc"};mt(U),_(e=>({...e,[a]:r})),ze(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,K.jsx)(y,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\uc5ec\uae30\uc5d0 \ub178\ub4dc \ucd94\uac00"})]}),Ye&&(0,K.jsxs)("button",{onClick:()=>{Tt(),ze(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,K.jsx)(B,{className:"w-4 h-4"}),(0,K.jsx)("span",{children:"\ubd99\uc5ec\ub123\uae30"})]})]})}),lt&&(0,K.jsxs)("div",{className:"absolute top-4 left-4 bg-gray-900/80 rounded-lg p-2 text-xs text-gray-400",children:[(0,K.jsx)(P,{className:"w-4 h-4 inline mr-1"}),"\ub450 \uc190\uac00\ub77d: \uc90c | \ud55c \uc190\uac00\ub77d: \uc774\ub3d9"]})]}),H&&H({nodes:U,selectedPath:J,targetNode:G,viewMode:ae}),de&&(0,K.jsx)(W,{nodeId:de,nodes:U,isAdminMode:ne,onClose:()=>xe(null),onUpdate:(e,t)=>{if(mt(U),ne&&t.id&&t.id!==e){const l={...U};delete l[e],l[t.id]={...U[e],...t},Object.values(l).forEach(l=>{var s,a;null!==(s=l.parents)&&void 0!==s&&s.includes(e)&&(l.parents=l.parents.map(l=>l===e?t.id:l)),null!==(a=l.children)&&void 0!==a&&a.includes(e)&&(l.children=l.children.map(l=>l===e?t.id:l))}),_(l)}else _(l=>({...l,[e]:{...l[e],...t}}));je(!0),xe(null)}}),Te&&(0,K.jsx)(X,{nodes:U,onSelect:Rt,onClose:()=>De(!1)}),He&&(0,K.jsx)(Y,{templates:Ue,onSelectTemplate:Vt,onClose:()=>Ve(!1)}),be&&(0,K.jsx)(F,{onSuccess:()=>{ie(!0),ve(!1)},onClose:()=>ve(!1)})]})}}}]);
//# sourceMappingURL=961.01c97f2f.chunk.js.map