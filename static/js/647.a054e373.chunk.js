/*! For license information please see 647.a054e373.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcareer_path_navigator=self.webpackChunkcareer_path_navigator||[]).push([[647],{647:(e,t,l)=>{l.d(t,{A:()=>H});var s=l(43),r=l(784);const a=(0,r.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),n=(0,r.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var i=l(469);const o=(0,r.A)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),c=(0,r.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),d=(0,r.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),x=(0,r.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),u=(0,r.A)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),h=(0,r.A)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),p=(0,r.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),m=(0,r.A)("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]),y=(0,r.A)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),g=(0,r.A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),b=(0,r.A)("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),f=(0,r.A)("redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),v=(0,r.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),j=(0,r.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),k=(0,r.A)("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]),w=(0,r.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),N=(0,r.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),C=(0,r.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),$=(0,r.A)("mouse-pointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),S=(0,r.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),M=(0,r.A)("command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]),A=(0,r.A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),T=(0,r.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),z=(0,r.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),L=(0,r.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),E=(0,r.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),D=(0,r.A)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);var O=l(615),B=l(579);const R=e=>{let{onSuccess:t,onClose:l}=e;const[r,n]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1);return(0,B.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,B.jsx)("div",{className:"relative w-full max-w-md mx-4",children:(0,B.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,B.jsx)("h3",{className:"text-xl font-bold text-white",children:"\uad00\ub9ac\uc790 \uc778\uc99d"}),(0,B.jsx)("button",{onClick:l,className:"text-gray-400 hover:text-white transition-colors",children:(0,B.jsx)(a,{className:"w-5 h-5"})})]}),(0,B.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"the5151@@@@"===r?t():(o(!0),setTimeout(()=>o(!1),2e3))},className:"space-y-4",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"\uad00\ub9ac\uc790 \ud328\uc2a4\uc6cc\ub4dc"}),(0,B.jsx)("input",{type:"password",value:r,onChange:e=>n(e.target.value),className:"w-full px-4 py-3 bg-gray-900/50 border rounded-lg text-white placeholder-gray-600 focus:outline-none transition-all "+(i?"border-red-500 shadow-red-500/50 shadow-lg animate-shake":"border-gray-600/50 focus:border-gray-400/50"),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",autoFocus:!0})]}),i&&(0,B.jsx)("p",{className:"text-red-400 text-sm text-center animate-pulse",children:"\uc798\ubabb\ub41c \ud328\uc2a4\uc6cc\ub4dc\uc785\ub2c8\ub2e4"}),(0,B.jsxs)("div",{className:"flex justify-end space-x-3 pt-2",children:[(0,B.jsx)("button",{type:"button",onClick:l,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"\ucde8\uc18c"}),(0,B.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"\ud655\uc778"})]})]})]})})})},W=e=>{let{nodeId:t,nodes:l,onClose:r,onUpdate:n,isAdminMode:i}=e;const o=l[t],[c]=(0,s.useState)(t),[d,x]=(0,s.useState)({id:(null===o||void 0===o?void 0:o.id)||t,title:(null===o||void 0===o?void 0:o.title)||"",year:(null===o||void 0===o?void 0:o.year)||"",salary:(null===o||void 0===o?void 0:o.salary)||"",description:(null===o||void 0===o?void 0:o.description)||"",projectType:(null===o||void 0===o?void 0:o.projectType)||"hybrid",skills:((null===o||void 0===o?void 0:o.skills)||[]).join(", "),icon:(null===o||void 0===o?void 0:o.icon)||"\ud83d\udcbc",color:(null===o||void 0===o?void 0:o.color)||"#6B7280",level:(null===o||void 0===o?void 0:o.level)||0,x:(null===o||void 0===o?void 0:o.x)||50});if(!o)return null;return(0,B.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,B.jsx)("div",{className:"relative w-full max-w-2xl mx-4",children:(0,B.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6 max-h-[90vh] overflow-y-auto",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,B.jsx)("h3",{className:"text-xl font-bold text-white",children:"\ub178\ub4dc \ud3b8\uc9d1"}),(0,B.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:(0,B.jsx)(a,{className:"w-5 h-5"})})]}),(0,B.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i&&d.id!==c&&l[d.id]?alert("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 ID\uc785\ub2c8\ub2e4."):(n(c,{...d,skills:d.skills.split(",").map(e=>e.trim()).filter(e=>e)}),r())},className:"space-y-4",children:[i&&(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"ID (\uc8fc\uc758: \ubcc0\uacbd \uc2dc \uc5f0\uacb0 \uad00\uacc4\uac00 \ub04a\uc5b4\uc9c8 \uc218 \uc788\uc74c)"}),(0,B.jsx)("input",{type:"text",value:d.id,onChange:e=>{const t=e.target.value;x({...d,id:t})},className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",required:!0})]}),(0,B.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc9c1\ubb34\uba85"}),(0,B.jsx)("input",{type:"text",value:d.title,onChange:e=>x({...d,title:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",required:!0})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uacbd\ub825"}),(0,B.jsxs)("select",{value:d.year,onChange:e=>x({...d,year:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",children:[(0,B.jsx)("option",{value:"",children:"\uacbd\ub825 \uc120\ud0dd"}),(0,B.jsx)("option",{value:"1-3\ub144\ucc28",children:"1-3\ub144\ucc28"}),(0,B.jsx)("option",{value:"4-7\ub144\ucc28",children:"4-7\ub144\ucc28"}),(0,B.jsx)("option",{value:"8-12\ub144\ucc28",children:"8-12\ub144\ucc28"}),(0,B.jsx)("option",{value:"13-18\ub144\ucc28",children:"13-18\ub144\ucc28"}),(0,B.jsx)("option",{value:"20\ub144\ucc28+",children:"20\ub144\ucc28+"}),(0,B.jsx)("option",{value:"25\ub144\ucc28+",children:"25\ub144\ucc28+"}),(0,B.jsx)("option",{value:"30\ub144\ucc28+",children:"30\ub144\ucc28+"})]})]})]}),(0,B.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc5f0\ubd09"}),(0,B.jsx)("input",{type:"text",value:d.salary,onChange:e=>x({...d,salary:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",placeholder:"\uc608: 3,500-4,500\ub9cc\uc6d0"})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\ub808\ubca8"}),(0,B.jsx)("input",{type:"number",value:d.level,onChange:e=>x({...d,level:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",min:"0",max:"6"})]})]}),(0,B.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\ud504\ub85c\uc81d\ud2b8 \ud0c0\uc785"}),(0,B.jsxs)("select",{value:d.projectType,onChange:e=>x({...d,projectType:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",children:[(0,B.jsx)("option",{value:"operation",children:"\uc6b4\uc601"}),(0,B.jsx)("option",{value:"construction",children:"\uad6c\ucd95"}),(0,B.jsx)("option",{value:"hybrid",children:"\ubcf5\ud569"})]})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"X \uc704\uce58 (%)"}),(0,B.jsx)("input",{type:"number",value:d.x,onChange:e=>x({...d,x:parseFloat(e.target.value)||50}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",min:"0",max:"100",step:"0.1"})]})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc124\uba85"}),(0,B.jsx)("textarea",{value:d.description,onChange:e=>x({...d,description:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",rows:"3"})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc2a4\ud0ac (\uc27c\ud45c\ub85c \uad6c\ubd84)"}),(0,B.jsx)("input",{type:"text",value:d.skills,onChange:e=>x({...d,skills:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",placeholder:"\uc608: Figma, \ud504\ub85c\ud1a0\ud0c0\uc774\ud551, UX \ub9ac\uc11c\uce58"})]}),(0,B.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc544\uc774\ucf58"}),(0,B.jsx)("input",{type:"text",value:d.icon,onChange:e=>x({...d,icon:e.target.value}),className:"w-full px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none text-2xl text-center",placeholder:"\uc774\ubaa8\uc9c0"})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"\uc0c9\uc0c1"}),(0,B.jsx)("input",{type:"color",value:d.color,onChange:e=>x({...d,color:e.target.value}),className:"w-full h-10 bg-gray-900/50 border border-gray-700 rounded-lg cursor-pointer"})]})]}),(0,B.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,B.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"\ucde8\uc18c"}),(0,B.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"\uc800\uc7a5"})]})]})]})})})},I=e=>{let{nodes:t,onSelect:l,onClose:r}=e;const[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)([]);return(0,s.useEffect)(()=>{if(i){const e=Object.values(t).filter(e=>{var t,l,s;return e.title.toLowerCase().includes(i.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(l=e.skills)||void 0===l?void 0:l.some(e=>e.toLowerCase().includes(i.toLowerCase())))||(null===(s=e.salary)||void 0===s?void 0:s.toLowerCase().includes(i.toLowerCase()))});d(e)}else d([])},[i,t]),(0,B.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,B.jsx)("div",{className:"relative w-full max-w-2xl mx-4",children:(0,B.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6",children:[(0,B.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,B.jsx)(n,{className:"w-5 h-5 text-gray-400"}),(0,B.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"\ub178\ub4dc \uac80\uc0c9 (\uc774\ub984, \uc2a4\ud0ac, \uc5f0\ubd09...)",className:"flex-1 px-3 py-2 bg-gray-900/50 border border-gray-700 rounded-lg text-white focus:border-gray-500 focus:outline-none",autoFocus:!0}),(0,B.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:(0,B.jsx)(a,{className:"w-5 h-5"})})]}),(0,B.jsxs)("div",{className:"max-h-96 overflow-y-auto",children:[c.map(e=>(0,B.jsx)("button",{onClick:()=>{l(e.id),r()},className:"w-full text-left p-3 hover:bg-gray-800/50 rounded-lg transition-colors mb-2",children:(0,B.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,B.jsx)("span",{className:"text-2xl",children:e.icon}),(0,B.jsxs)("div",{children:[(0,B.jsx)("h4",{className:"font-medium text-white",children:e.title}),(0,B.jsxs)("p",{className:"text-sm text-gray-400",children:[e.year," \xb7 ",e.salary]})]})]})},e.id)),i&&0===c.length&&(0,B.jsx)("p",{className:"text-center text-gray-500 py-8",children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"})]})]})})})},K=e=>{let{templates:t,onSelectTemplate:l,onClose:s}=e;return(0,B.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,B.jsx)("div",{className:"relative w-full max-w-md mx-4",children:(0,B.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-2xl border border-gray-700/50 p-6",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,B.jsx)("h3",{className:"text-xl font-bold text-white",children:"\ub178\ub4dc \ud15c\ud50c\ub9bf"}),(0,B.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:(0,B.jsx)(a,{className:"w-5 h-5"})})]}),(0,B.jsx)("div",{className:"space-y-2",children:[{id:"junior",name:"\uc8fc\ub2c8\uc5b4 \ud15c\ud50c\ub9bf",icon:"\ud83c\udf31",data:{level:0,projectType:"hybrid",year:"1-3\ub144\ucc28"}},{id:"senior",name:"\uc2dc\ub2c8\uc5b4 \ud15c\ud50c\ub9bf",icon:"\u2b50",data:{level:2,projectType:"construction",year:"8-12\ub144\ucc28"}},{id:"manager",name:"\ub9e4\ub2c8\uc800 \ud15c\ud50c\ub9bf",icon:"\ud83d\udc54",data:{level:3,projectType:"hybrid",year:"13-18\ub144\ucc28"}},...t].map(e=>(0,B.jsx)("button",{onClick:()=>{l(e.data),s()},className:"w-full text-left p-4 bg-gray-800/50 hover:bg-gray-700/50 rounded-lg transition-colors",children:(0,B.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,B.jsx)("span",{className:"text-2xl",children:e.icon}),(0,B.jsxs)("div",{children:[(0,B.jsx)("h4",{className:"font-medium text-white",children:e.name}),(0,B.jsxs)("p",{className:"text-sm text-gray-400",children:["\ub808\ubca8 ",e.data.level," \xb7 ",e.data.year]})]})]})},e.id))})]})})})},H=e=>{var t,l;let{initialNodes:r,careerType:H,onAdminModeToggle:F,renderBottomPanel:P}=e;const X=(0,O.Zp)(),q=(0,O.zy)(),[V,Y]=(0,s.useState)(r),[U,_]=(0,s.useState)(null),[J,Z]=(0,s.useState)(null),[G,Q]=(0,s.useState)("all"),[ee,te]=(0,s.useState)("target"),[le,se]=(0,s.useState)((null===(t=q.state)||void 0===t?void 0:t.isAdminMode)||!1),[re,ae]=(0,s.useState)(null),[ne,ie]=(0,s.useState)(null),[oe,ce]=(0,s.useState)(!1),[de,xe]=(0,s.useState)(null),[ue,he]=(0,s.useState)(null),[pe,me]=(0,s.useState)(!1),[ye,ge]=(0,s.useState)(!1),[be,fe]=(0,s.useState)(null),[ve,je]=(0,s.useState)({x:0,y:0}),[ke,we]=(0,s.useState)(1e3),[Ne,Ce]=(0,s.useState)(!1),[$e,Se]=(0,s.useState)([]),[Me,Ae]=(0,s.useState)(!1),[Te,ze]=(0,s.useState)(!1),[Le,Ee]=(0,s.useState)(!1),[De,Oe]=(0,s.useState)({x:0,y:0}),[Be,Re]=(0,s.useState)(null),[We,Ie]=(0,s.useState)([]),[Ke,He]=(0,s.useState)(-1),[Fe,Pe]=(0,s.useState)(null),[Xe,qe]=(0,s.useState)(!1),[Ve,Ye]=(0,s.useState)([]),[Ue,_e]=(0,s.useState)(!1),[Je,Ze]=(0,s.useState)(!0),[Ge,Qe]=(0,s.useState)(!1),[et,tt]=(0,s.useState)(!1),[lt,st]=(0,s.useState)(0),[rt,at]=(0,s.useState)(null),[nt,it]=(0,s.useState)(1),[ot,ct]=(0,s.useState)(1),[dt,xt]=(0,s.useState)(window.innerWidth),ut=(0,s.useRef)(null),ht=(0,s.useRef)(null),pt=(0,s.useRef)(null),mt=(0,s.useRef)(null),yt=(0,s.useCallback)(e=>{const t=We.slice(0,Ke+1);t.push(JSON.parse(JSON.stringify(e))),t.length>50&&t.shift(),Ie(t),He(t.length-1)},[We,Ke]),gt=(0,s.useCallback)(()=>{if(Ke>0){const e=We[Ke-1];Y(e),He(Ke-1)}},[We,Ke]),bt=(0,s.useCallback)(()=>{if(Ke<We.length-1){const e=We[Ke+1];Y(e),He(Ke+1)}},[We,Ke]),ft=(0,s.useCallback)(e=>{(1===e.button||0===e.button&&e.shiftKey)&&(e.preventDefault(),Ce(!0),pt.current={x:e.clientX-ve.x,y:e.clientY-ve.y})},[ve]),vt=(0,s.useCallback)(e=>{Ne&&pt.current&&je({x:e.clientX-pt.current.x,y:e.clientY-pt.current.y})},[Ne]),jt=(0,s.useCallback)(()=>{Ce(!1),pt.current=null},[]),kt=((0,s.useCallback)(()=>{je({x:0,y:0})},[]),(0,s.useCallback)(e=>{const t=document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY),l=null===t||void 0===t?void 0:t.closest('[id^="node-"]');if(2===e.touches.length){const t=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY);st(t)}else if(1===e.touches.length){if(l)return;mt.current={x:e.touches[0].clientX,y:e.touches[0].clientY}}},[])),wt=(0,s.useCallback)(e=>{if(2===e.touches.length&&lt>0){e.preventDefault();const t=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY),l=t/lt;ct(e=>{const t=e*l;return Math.max(.5,Math.min(3,t))}),st(t)}else if(1===e.touches.length&&mt.current){e.preventDefault();const t=e.touches[0].clientX-mt.current.x,l=e.touches[0].clientY-mt.current.y;je(e=>({x:e.x+t,y:e.y+l})),mt.current={x:e.touches[0].clientX,y:e.touches[0].clientY}}},[lt]),Nt=(0,s.useCallback)(e=>Je?.5*Math.round(e/.5):e,[Je]);(0,s.useEffect)(()=>{const e=e=>{!e.ctrlKey&&!e.metaKey||"z"!==e.key||e.shiftKey||(e.preventDefault(),gt()),(e.ctrlKey||e.metaKey)&&("y"===e.key||"z"===e.key&&e.shiftKey)&&(e.preventDefault(),bt()),(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),le&&Rt()),(e.ctrlKey||e.metaKey)&&"f"===e.key&&(e.preventDefault(),Ae(!0)),"Delete"===e.key&&le&&($e.length>0?Lt($e):re&&zt(re)),"Escape"===e.key&&(Se([]),ae(null),ce(!1),xe(null)),(e.ctrlKey||e.metaKey)&&"a"===e.key&&le&&(e.preventDefault(),Se(Object.keys(V))),(e.ctrlKey||e.metaKey)&&"c"===e.key&&re&&Pe(V[re]),(e.ctrlKey||e.metaKey)&&"v"===e.key&&Fe&&At(),"Tab"!==e.key||le||(e.preventDefault(),Tt())," "!==e.key||e.target.closest("input, textarea")||(e.preventDefault(),document.body.style.cursor="grab")},t=e=>{" "===e.key&&(document.body.style.cursor="default")};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[le,re,$e,V,Fe,gt,bt]);const Ct=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.preventDefault(),le&&(Ee(!0),Oe({x:e.clientX,y:e.clientY}),Re(t))},[le]);(0,s.useEffect)(()=>{const e=()=>Ee(!1);return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[]);const $t=(0,s.useCallback)(()=>{const e={...V},t=dt<=768?{construction:{nodes:[],xRange:[10,30]},hybrid:{nodes:[],xRange:[35,65]},operation:{nodes:[],xRange:[70,90]}}:{construction:{nodes:[],xRange:[5,25]},hybrid:{nodes:[],xRange:[30,70]},operation:{nodes:[],xRange:[75,95]}},l={};Object.values(V).forEach(e=>{const t=`${e.level}-${e.projectType}`;l[t]||(l[t]=[]),l[t].push(e)});Object.entries(l).forEach(l=>{let[s,r]=l;const[a,n]=s.split("-"),i=t[n].xRange,o=i[1]-i[0],c=r.length;if(0===c)return;const d=8*c+3*(c-1);if(d<=o){const t=(o-d)/2;r.forEach((l,s)=>{e[l.id]={...l,x:i[0]+t+11*s+4}})}else{const t=o/c;r.forEach((l,s)=>{e[l.id]={...l,x:i[0]+t*(s+.5)}})}}),yt(V),Y(e),ge(!0)},[V,yt,dt]),St=(0,s.useCallback)((e,t)=>{if(t.ctrlKey||t.metaKey)Se(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]);else if(t.shiftKey&&re){const t=V[re].level,l=V[e].level,s=Math.min(t,l),r=Math.max(t,l),a=Object.values(V).filter(e=>e.level>=s&&e.level<=r).map(e=>e.id);Se(a)}else ae(e),Se([])},[V,re]),Mt=(0,s.useCallback)(e=>{const t=V[e],l=`node_${Date.now()}`,s={...t,id:l,title:`${t.title} (\ubcf5\uc0ac\ubcf8)`,x:Math.min(95,t.x+5),parents:[],children:[]};yt(V),Y(e=>({...e,[l]:s})),ge(!0)},[V,yt,dt]),At=(0,s.useCallback)(()=>{if(!Fe)return;const e=`node_${Date.now()}`,t={...Fe,id:e,title:`${Fe.title} (\ubd99\uc5ec\ub123\uae30)`,x:Math.min(95,(Fe.x||50)+5),parents:[],children:[]};yt(V),Y(l=>({...l,[e]:t})),ge(!0)},[Fe,V,yt]),Tt=(0,s.useCallback)(()=>{const e=Object.keys(V);if(0===e.length)return;const t=(e.indexOf(re||"")+1)%e.length;ae(e[t]);const l=V[e[t]];if(l&&ut.current){const e=document.getElementById(`node-${l.id}`);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}},[V,re]),zt=(0,s.useCallback)(e=>{if(window.confirm("\uc815\ub9d0 \uc774 \ub178\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){yt(V);const t={...V};if(!t[e])return void console.warn(`Node ${e} not found`);Object.values(t).forEach(t=>{t&&t.parents&&(t.parents=t.parents.filter(t=>t!==e)),t&&t.children&&(t.children=t.children.filter(t=>t!==e))}),delete t[e],Y(t),ge(!0),re===e&&ae(null),$e.includes(e)&&Se(t=>t.filter(t=>t!==e))}},[V,yt,re,$e]),Lt=(0,s.useCallback)(e=>{if(window.confirm(`${e.length}\uac1c\uc758 \ub178\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?`)){yt(V);const t={...V};e.forEach(e=>{Object.values(t).forEach(t=>{t&&t.parents&&(t.parents=t.parents.filter(t=>t!==e)),t&&t.children&&(t.children=t.children.filter(t=>t!==e))}),delete t[e]}),Y(t),Se([]),ge(!0)}},[V,yt,dt]),Et=(0,s.useCallback)((e,t)=>{if(e===t)return!1;const l=V[e],s=V[t];if(!l||!s)return!1;if(l.level>=s.level)return!1;const r=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(e===t)return!0;if(l.has(e))return!1;l.add(e);const s=V[e];return!(!s||!s.children)&&s.children.some(e=>r(e,t,l))};return!r(t,e)},[V]),Dt=(0,s.useCallback)((e,t)=>{var l,s;if(le&&window.confirm(`${null===(l=V[e])||void 0===l?void 0:l.title}\uc640 ${null===(s=V[t])||void 0===s?void 0:s.title} \uac04\uc758 \uc5f0\uacb0\uc744 \ud574\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?`)){var r,a;yt(V);const l={...V};null!==(r=l[e])&&void 0!==r&&r.children&&(l[e].children=l[e].children.filter(e=>e!==t)),null!==(a=l[t])&&void 0!==a&&a.parents&&(l[t].parents=l[t].parents.filter(t=>t!==e)),Y(l),ge(!0)}},[V,le,yt]),Ot=(0,s.useCallback)(e=>{const t=V[e];if(!t||!ut.current)return;const l=200*nt,s=60*nt+t.level*l,r=t.x/100*ut.current.clientWidth;je({x:ut.current.clientWidth/2-r,y:ut.current.clientHeight/2-s}),ae(e),Z(e),setTimeout(()=>Z(null),2e3)},[V]),Bt=(0,s.useMemo)(()=>{if(!ut.current)return Object.values(V);const e=et?ot:1,t=-ve.x/e,l=(ut.current.clientWidth-ve.x)/e,s=-ve.y/e,r=(ut.current.clientHeight-ve.y)/e;return Object.values(V).filter(a=>{const n=200*nt,i=60*nt+a.level*n,o=a.x/100*ut.current.clientWidth,c=100/e;return o>t-c&&o<l+c&&i>s-c&&i<r+c})},[V,ve,et,ot,nt]);(0,s.useEffect)(()=>{const e=localStorage.getItem(`${H}CareerTree`);if(e)try{const t=JSON.parse(e);Y(t),Ie([t]),He(0)}catch(t){console.error("Failed to load saved data:",t)}},[H]);const Rt=(0,s.useCallback)(()=>{localStorage.setItem(`${H}CareerTree`,JSON.stringify(V)),localStorage.setItem(`${H}Templates`,JSON.stringify(Ve)),ge(!1),alert("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")},[H,V,Ve]);(0,s.useEffect)(()=>{const e=()=>{tt(window.innerWidth<=768||"ontouchstart"in window)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{if(!et||!be)return;const e=e=>{const t=e.target.closest(`#node-${be}`),l=e.target.closest(".mobile-popup");t||l||fe(null)};return setTimeout(()=>{document.addEventListener("click",e)},100),()=>document.removeEventListener("click",e)},[et,be]),(0,s.useEffect)(()=>{const e=()=>{const e=window.innerWidth;let t;xt(e),t=e<=320?.05:e>=1920?1:.05+.95*Math.sqrt((e-320)/1600),it(t)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{if(!ut.current)return;const e=()=>{ut.current&&we(ut.current.clientWidth)};e();const t=new ResizeObserver(e);return t.observe(ut.current),window.addEventListener("resize",e),()=>{t.disconnect(),window.removeEventListener("resize",e)}},[]),(0,s.useEffect)(()=>{if(et&&ut.current){window.innerWidth,window.innerHeight;je({x:0,y:50})}else et||je({x:0,y:0})},[et]);const Wt=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(t.has(e))return[];t.add(e);const l=V[e];if(!l||!l.parents||0===l.parents.length)return[e];let s=[e];return l.parents.forEach(e=>{s=s.concat(Wt(e,t))}),[...new Set(s)]},[V]);(0,s.useEffect)(()=>{if(!Te||!ht.current||!ut.current)return;const e=ht.current,t=e.getContext("2d"),l=ut.current.getBoundingClientRect(),s=200,r=150,a=Math.min(s/l.width,.125);e.width=s,e.height=r,t.clearRect(0,0,s,r),t.fillStyle="rgba(0, 0, 0, 0.8)",t.fillRect(0,0,s,r),Object.values(V).forEach(e=>{const s=e.x/100*l.width*a,r=(150+180*e.level)*a;t.fillStyle=$e.includes(e.id)||re===e.id?"#DAA520":"#6B7280",t.fillRect(s-2,r-1,4,2)}),t.strokeStyle="#DAA520",t.lineWidth=2,t.strokeRect(-ve.x*a,-ve.y*a,l.width*a,l.height*a)},[V,Te,ve,re,$e]);const It=(0,s.useCallback)((e,t)=>{if(e===t)return!0;const l=new Set,s=[e];for(;s.length>0;){var r,a;const e=s.shift();if(l.has(e))continue;l.add(e);const n=V[e];if(n){if(null!==(r=n.children)&&void 0!==r&&r.includes(t))return!0;null===(a=n.children)||void 0===a||a.forEach(e=>{!l.has(e)&&V[e]&&s.push(e)})}}return!1},[V]),Kt=(0,s.useCallback)(e=>"all"===G||(G===e.projectType||(!!le||!(!U||!It(e.id,U)))),[G,le,U,It]),Ht=(0,s.useCallback)((e,t)=>{if(et&&!le)return t.stopPropagation(),void(e===U?(fe(null),_(null)):(fe(e),_(e)));if(le&&oe){if(de){if(de!==e){if(Et(de,e)){yt(V);const t={...V};if(!t[de]||!t[e])return alert("\ub178\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),void xe(null);t[de].children||(t[de].children=[]),t[e].parents||(t[e].parents=[]),t[de].children.includes(e)||t[de].children.push(e),t[e].parents.includes(de)||t[e].parents.push(de),Y(t),ge(!0)}else alert("\uc774 \uc5f0\uacb0\uc740 \ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (\ub808\ubca8 \uc81c\uc57d \ub610\ub294 \uc21c\ud658 \ucc38\uc870)");ce(!1),xe(null)}}else xe(e);if(de){if(de!==e){if(Et(de,e)){yt(V);const t={...V};if(!t[de]||!t[e])return alert("\ub178\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),void xe(null);t[de].children||(t[de].children=[]),t[e].parents||(t[e].parents=[]),t[de].children.includes(e)||t[de].children.push(e),t[e].parents.includes(de)||t[e].parents.push(de),Y(t),ge(!0)}else alert("\uc774 \uc5f0\uacb0\uc740 \ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (\ub808\ubca8 \uc81c\uc57d \ub610\ub294 \uc21c\ud658 \ucc38\uc870)");ce(!1),xe(null)}}else xe(e)}else le?St(e,t):_(U===e?null:e)},[le,oe,de,V,St,Et,yt,et,be,U]),Ft=(0,s.useCallback)((e,t)=>{le&&($e.includes(t)?he($e):he(t),e.dataTransfer.effectAllowed="move")},[le,$e]),Pt=(0,s.useCallback)(e=>{if(e.preventDefault(),e.dataTransfer.dropEffect="move",Je&&ut.current){const t=ut.current.getBoundingClientRect(),l=(e.clientX-t.left-ve.x)/t.width*100;Nt(l)}},[Je,ve,Nt]),Xt=(0,s.useCallback)(e=>{if(e.preventDefault(),!ue||!ut.current)return;const t=ut.current.getBoundingClientRect();let l=(e.clientX-t.left-ve.x)/t.width*100;const s=e.clientY-t.top-ve.y,r=Math.max(0,Math.min(6,Math.floor((s-150)/200)));if(Je&&(l=Nt(l)),l=Math.max(0,Math.min(100,l)),yt(V),Array.isArray(ue)){const e=l-V[ue[0]].x,t=r-V[ue[0]].level,s={...V};ue.forEach(l=>{s[l]={...s[l],x:Math.max(5,Math.min(95,s[l].x+e)),level:Math.max(0,Math.min(6,s[l].level+t))}}),Y(s)}else Y(e=>({...e,[ue]:{...e[ue],x:l,level:r}}));he(null),ge(!0)},[ue,V,ve,Je,Nt,yt]),qt=(0,s.useCallback)(e=>{if(!le||e.target!==ut.current)return;const t=ut.current.getBoundingClientRect(),l=(e.clientX-t.left-ve.x)/t.width*100,s=e.clientY-t.top-ve.y,r=Math.max(0,Math.min(6,Math.floor((s-150)/180))),a=`node_${Date.now()}`,n={id:a,title:"\uc0c8 \uc9c1\ubb34",year:"\uacbd\ub825",salary:"\uc5f0\ubd09",level:r,x:Je?Nt(l):l,projectType:"hybrid",description:"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:[],parents:[],children:[],color:"#6B7280",icon:"\ud83d\udcbc"};yt(V),Y(e=>({...e,[a]:n})),ie(a),ge(!0)},[le,V,ve,Je,Nt,yt]),Vt=(0,s.useCallback)(e=>{const t=`node_${Date.now()}`,l={id:t,title:e.title||"\uc0c8 \uc9c1\ubb34",year:e.year||"\uacbd\ub825",salary:e.salary||"\uc5f0\ubd09",level:e.level||0,x:50,projectType:e.projectType||"hybrid",description:e.description||"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:e.skills||[],parents:[],children:[],color:e.color||"#6B7280",icon:e.icon||"\ud83d\udcbc"};yt(V),Y(e=>({...e,[t]:l})),ie(t),ge(!0)},[V,yt,dt]),Yt=(0,s.useCallback)(()=>{const e={nodes:V,templates:Ve,metadata:{careerType:H,exportDate:(new Date).toISOString(),version:"2.0"}},t=JSON.stringify(e,null,2),l="data:application/json;charset=utf-8,"+encodeURIComponent(t),s=`${H}_career_path_${(new Date).toISOString().slice(0,10)}.json`,r=document.createElement("a");r.setAttribute("href",l),r.setAttribute("download",s),r.click()},[V,Ve,H]),Ut=(0,s.useCallback)(()=>{const e=`${H}Nodes`,t=`// ${H.charAt(0).toUpperCase()+H.slice(1)}Path.js\n// \uc790\ub3d9 \uc0dd\uc131\ub41c \ud30c\uc77c - ${(new Date).toISOString()}\nimport React from 'react';\nimport AnimatedBackground from '../common/AnimatedBackground';\nimport CareerPathViewer from '../common/CareerPathViewer';\n\nconst ${H.charAt(0).toUpperCase()+H.slice(1)}Path = () => {\n  const ${e} = ${JSON.stringify(V,null,4).replace(/"([^"]+)":/g,"$1:")};\n\n  const renderBottomPanel = ({ viewMode, targetNode, nodes }) => {\n    const getNodeInfo = (nodeId) => {\n      const node = nodes[nodeId];\n      return node ? \`\${node.title} (\${node.year})\` : '';\n    };\n\n    return (\n      <div className="fixed bottom-0 left-0 right-0 p-4 bg-black/90 backdrop-blur-xl border-t border-gray-700/50">\n        <div className="max-w-7xl mx-auto">\n          {targetNode && (\n            <div className="text-sm text-gray-300">\n              <span className="text-gray-500">\ubaa9\ud45c:</span> {getNodeInfo(targetNode)}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <AnimatedBackground>\n      <div className="min-h-screen">\n        <div className="hidden sm:block px-4 sm:px-6 pt-4 sm:pt-6">\n  <h1 className="text-2xl sm:text-3xl md:text-4xl font-bold mb-2">\n    <span className="metallic-text">${_t(H)} \ucee4\ub9ac\uc5b4\ud328\uc2a4</span>\n  </h1>\n  <p className="text-sm sm:text-base text-gray-400 mb-4 sm:mb-6">\n    ${Jt(H)}\n  </p>\n</div>\n        \n        <CareerPathViewer \n          initialNodes={${e}}\n          careerType="${H}"\n          renderBottomPanel={renderBottomPanel}\n        />\n      </div>\n    </AnimatedBackground>\n  );\n};\n\nexport default ${H.charAt(0).toUpperCase()+H.slice(1)}Path;`,l=new Blob([t],{type:"text/javascript"}),s=URL.createObjectURL(l),r=document.createElement("a");r.href=s,r.download=`${H.charAt(0).toUpperCase()+H.slice(1)}Path.js`,r.click(),URL.revokeObjectURL(s)},[V,H]),_t=e=>({designer:"\uc6f9 \ub514\uc790\uc774\ub108",publisher:"\uc6f9 \ud37c\ube14\ub9ac\uc154",planner:"\uc6f9 \uae30\ud68d\uc790",admin:"\uacbd\uc601\uc9c0\uc6d0"}[e]||e),Jt=e=>({designer:"\ube44\uc8fc\uc5bc \ub514\uc790\uc778\ubd80\ud130 UI/UX, \uadf8\ub9ac\uace0 \ud06c\ub9ac\uc5d0\uc774\ud2f0\ube0c \ub9ac\ub354\uc2ed\uae4c\uc9c0",publisher:"HTML/CSS\ubd80\ud130 \ud504\ub860\ud2b8\uc5d4\ub4dc \uac1c\ubc1c, \uadf8\ub9ac\uace0 \uae30\uc220 \ub9ac\ub354\uc2ed\uae4c\uc9c0",planner:"\uc11c\ube44\uc2a4 \uae30\ud68d\ubd80\ud130 \ud504\ub85c\ub355\ud2b8 \ub9e4\ub2c8\uc9c0\uba3c\ud2b8, \uadf8\ub9ac\uace0 \ube44\uc988\ub2c8\uc2a4 \ub9ac\ub354\uc2ed\uae4c\uc9c0",admin:"\ud68c\uacc4/\uc778\uc0ac/\ucd1d\ubb34\ubd80\ud130 \uc804\ub7b5 \uae30\ud68d, \uadf8\ub9ac\uace0 \uacbd\uc601 \ub9ac\ub354\uc2ed\uae4c\uc9c0"}[e]||"\ucee4\ub9ac\uc5b4 \uc131\uc7a5 \uacbd\ub85c"),Zt=(0,s.useCallback)(e=>{const t=e.target.files[0];if(!t)return;const l=new FileReader;l.onload=e=>{try{var t;const l=JSON.parse(e.target.result);null!==(t=l.metadata)&&void 0!==t&&t.version?(Y(l.nodes),Ye(l.templates||[])):Y(l),yt(V),ge(!0),alert("\ub370\uc774\ud130\ub97c \uc131\uacf5\uc801\uc73c\ub85c \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4!")}catch(l){alert("\ud30c\uc77c\uc744 \uc77d\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}},l.readAsText(t)},[V,yt,dt]);return(0,B.jsxs)(B.Fragment,{children:[et&&(0,B.jsx)("button",{onClick:()=>X("/"),className:"absolute top-4 left-4 z-20 p-2 bg-gray-800/80 backdrop-blur hover:bg-gray-700/80 rounded-full transition-colors",style:{width:50*nt+"px",height:50*nt+"px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,B.jsx)(i.A,{style:{width:25*nt+"px",height:25*nt+"px"}})}),!et&&(0,B.jsx)("div",{className:"relative z-10 px-6 pb-4",children:(0,B.jsxs)("div",{className:"backdrop-blur-xl bg-black/90 rounded-xl border border-gray-700/50 p-4",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between "+(dt<=768?"flex-col gap-3":"flex-row flex-wrap gap-4"),children:[(0,B.jsxs)("div",{className:"flex items-center "+(dt<=768?"w-full justify-evenly gap-2":"space-x-4 flex-wrap"),children:[(0,B.jsxs)("button",{onClick:()=>X("/"),className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,B.jsx)(i.A,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm",children:"\uc9c1\ubb34 \uc120\ud0dd"})]}),(0,B.jsx)("div",{className:"h-6 w-px bg-gray-700"}),!et&&(0,B.jsxs)("button",{onClick:()=>{le?(se(!1),ce(!1),xe(null),ae(null),Se([])):me(!0)},className:"px-4 py-2 rounded-lg flex items-center space-x-2 transition-all "+(le?"bg-gray-700 text-white":"bg-gray-900/50 text-gray-400 hover:bg-gray-800/50"),children:[le?(0,B.jsx)(o,{className:"w-4 h-4"}):(0,B.jsx)(c,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\uad00\ub9ac\uc790 \ubaa8\ub4dc"})]}),!et&&(0,B.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,B.jsx)(d,{className:"w-4 h-4 text-gray-500"}),(0,B.jsxs)("select",{value:G,onChange:e=>Q(e.target.value),className:"px-3 py-1.5 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-300 focus:border-gray-500 focus:outline-none",children:[(0,B.jsx)("option",{value:"all",children:"\uc804\uccb4 \ubcf4\uae30"}),(0,B.jsx)("option",{value:"construction",children:"\uad6c\ucd95 \ud504\ub85c\uc81d\ud2b8"}),(0,B.jsx)("option",{value:"operation",children:"\uc6b4\uc601 \ud504\ub85c\uc81d\ud2b8"}),(0,B.jsx)("option",{value:"hybrid",children:"\ubcf5\ud569\ud615"})]})]}),!et&&(0,B.jsxs)("button",{onClick:()=>Ae(!0),className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"Ctrl+F",children:[(0,B.jsx)(n,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uac80\uc0c9"})]}),(0,B.jsxs)("button",{onClick:()=>{le?(ae(null),Se([]),ce(!1),xe(null)):_(null)},className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,B.jsx)(x,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm hidden sm:inline",children:"\ucd08\uae30\ud654"})]}),et&&!le&&(0,B.jsxs)("div",{className:"flex items-center gap-1",children:[(0,B.jsx)("button",{onClick:()=>{it(e=>Math.max(.25,e-.1))},className:"px-2 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:(0,B.jsx)(u,{className:"w-4 h-4"})}),(0,B.jsx)("button",{onClick:()=>{it(e=>Math.min(2.5,e+.1))},className:"px-2 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:(0,B.jsx)(h,{className:"w-4 h-4"})})]}),le&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("div",{className:"h-6 w-px bg-gray-700"}),(0,B.jsxs)("button",{onClick:()=>{const e=`node_${Date.now()}`,t={id:e,title:"\uc0c8 \uc9c1\ubb34",year:"\uacbd\ub825",salary:"\uc5f0\ubd09",level:0,x:50,projectType:"hybrid",description:"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:[],parents:[],children:[],color:"#6B7280",icon:"\ud83d\udcbc"};yt(V),Y(l=>({...l,[e]:t})),ie(e),ge(!0)},className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\uc0c8 \ub178\ub4dc \ucd94\uac00",children:[(0,B.jsx)(p,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm hidden sm:inline",children:"\ub178\ub4dc \ucd94\uac00"})]}),(0,B.jsxs)("button",{onClick:()=>qe(!0),className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\ud15c\ud50c\ub9bf\uc5d0\uc11c \ucd94\uac00",children:[(0,B.jsx)(m,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm hidden sm:inline",children:"\ud15c\ud50c\ub9bf"})]}),(0,B.jsxs)("button",{onClick:()=>{ce(!oe),xe(null)},className:"px-3 py-2 rounded-lg flex items-center space-x-2 transition-colors "+(oe?"bg-gray-600 text-white":"bg-gray-800 hover:bg-gray-700"),title:"\uc5f0\uacb0 \ubaa8\ub4dc",children:[(0,B.jsx)(y,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uc5f0\uacb0"})]}),(0,B.jsxs)("button",{onClick:$t,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\uc790\ub3d9 \uc815\ub82c",children:[(0,B.jsx)(g,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uc790\ub3d9 \uc815\ub82c"})]}),(0,B.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,B.jsx)("button",{onClick:gt,disabled:Ke<=0,className:"p-1.5 rounded transition-colors "+(Ke>0?"bg-gray-800 hover:bg-gray-700":"bg-gray-900 text-gray-600 cursor-not-allowed"),title:"\uc2e4\ud589 \ucde8\uc18c (Ctrl+Z)",children:(0,B.jsx)(b,{className:"w-4 h-4"})}),(0,B.jsx)("button",{onClick:bt,disabled:Ke>=We.length-1,className:"p-1.5 rounded transition-colors "+(Ke<We.length-1?"bg-gray-800 hover:bg-gray-700":"bg-gray-900 text-gray-600 cursor-not-allowed"),title:"\ub2e4\uc2dc \uc2e4\ud589 (Ctrl+Y)",children:(0,B.jsx)(f,{className:"w-4 h-4"})})]}),(0,B.jsx)("div",{className:"h-6 w-px bg-gray-700"}),(0,B.jsxs)("button",{onClick:Rt,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",title:"\uc800\uc7a5 (Ctrl+S)",children:[(0,B.jsx)(v,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uc800\uc7a5"})]}),(0,B.jsxs)("button",{onClick:Yt,className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,B.jsx)(j,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm hidden sm:inline",children:"JSON \ub0b4\ubcf4\ub0b4\uae30"})]}),(0,B.jsxs)("button",{onClick:Ut,className:"px-3 py-2 bg-purple-800 hover:bg-purple-700 rounded-lg flex items-center space-x-2 transition-colors",title:"JS \ud30c\uc77c\ub85c \ub0b4\ubcf4\ub0b4\uae30",children:[(0,B.jsx)(k,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm hidden sm:inline",children:"JS \ub0b4\ubcf4\ub0b4\uae30"})]}),(0,B.jsxs)("label",{className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors cursor-pointer",children:[(0,B.jsx)(w,{className:"w-4 h-4"}),(0,B.jsx)("span",{className:"text-sm hidden sm:inline",children:"\uac00\uc838\uc624\uae30"}),(0,B.jsx)("input",{type:"file",accept:".json",onChange:Zt,className:"hidden"})]})]})]}),(0,B.jsxs)("div",{className:"flex items-center space-x-4",children:[ye&&le&&(0,B.jsxs)("span",{className:"text-yellow-400 text-sm flex items-center",children:[(0,B.jsx)(N,{className:"w-4 h-4 mr-1"}),"\uc800\uc7a5\ub418\uc9c0 \uc54a\uc74c"]}),(0,B.jsxs)("div",{className:"text-sm text-gray-400",children:[U&&!le&&(0,B.jsxs)("span",{children:["\ubaa9\ud45c: ",null===(l=V[U])||void 0===l?void 0:l.title]}),le&&oe&&(0,B.jsx)("span",{children:de?"\uc5f0\uacb0\ud560 \ub178\ub4dc \uc120\ud0dd":"\uc2dc\uc791 \ub178\ub4dc \uc120\ud0dd"}),le&&$e.length>0&&(0,B.jsxs)("span",{children:[$e.length,"\uac1c \uc120\ud0dd\ub428"]})]})]})]}),le&&(0,B.jsxs)("div",{className:"flex items-center space-x-4 mt-3 pt-3 border-t border-gray-700",children:[(0,B.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,B.jsx)("input",{type:"checkbox",checked:Ue,onChange:e=>_e(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,B.jsx)(C,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\uadf8\ub9ac\ub4dc"})]}),(0,B.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,B.jsx)("input",{type:"checkbox",checked:Je,onChange:e=>Ze(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,B.jsx)($,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\uc2a4\ub0c5"})]}),(0,B.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,B.jsx)("input",{type:"checkbox",checked:Te,onChange:e=>ze(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,B.jsx)(S,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\ubbf8\ub2c8\ub9f5"})]}),(0,B.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-400 cursor-pointer",children:[(0,B.jsx)("input",{type:"checkbox",checked:Ge,onChange:e=>Qe(e.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-600 rounded"}),(0,B.jsx)(S,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\uace0\ub300\ube44"})]}),(0,B.jsx)("div",{className:"h-6 w-px bg-gray-700"}),(0,B.jsxs)("button",{onClick:()=>alert("\ud0a4\ubcf4\ub4dc \ub2e8\ucd95\ud0a4:\n\nCtrl+Z: \uc2e4\ud589 \ucde8\uc18c\nCtrl+Y: \ub2e4\uc2dc \uc2e4\ud589\nCtrl+S: \uc800\uc7a5\nCtrl+F: \uac80\uc0c9\nCtrl+A: \uc804\uccb4 \uc120\ud0dd\nCtrl+C: \ub178\ub4dc \ubcf5\uc0ac\nCtrl+V: \ub178\ub4dc \ubd99\uc5ec\ub123\uae30\nDelete: \uc120\ud0dd \uc0ad\uc81c\nTab: \ub2e4\uc74c \ub178\ub4dc\nSpace+\ub4dc\ub798\uadf8: \ud32c\nCtrl+\ud720: \uc90c\nEscape: \ucde8\uc18c"),className:"px-3 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center space-x-2 transition-colors text-sm",children:[(0,B.jsx)(M,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\ub2e8\ucd95\ud0a4"})]})]})]})}),(0,B.jsxs)("div",{ref:ut,className:"relative mx-auto",style:{width:"100%",height:"1600px",minHeight:"600px",paddingTop:et?"60px":"0px",cursor:Ne?"grabbing":"default",touchAction:et?"manipulation":"none"},onMouseDown:ft,onMouseMove:vt,onMouseUp:jt,onMouseLeave:jt,onDragOver:Pt,onDrop:Xt,onDoubleClick:qt,onContextMenu:e=>Ct(e),onTouchStart:kt,onTouchMove:wt,onTouchEnd:()=>{mt.current=null,st(0)},children:[(0,B.jsx)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{overflow:"visible"},children:(0,B.jsxs)("g",{transform:et?`translate(${ve.x}, ${ve.y}) scale(${ot})`:`translate(${ve.x}, ${ve.y})`,children:[Ue&&(0,B.jsxs)(B.Fragment,{children:[Array.from({length:40},(e,t)=>(0,B.jsx)("line",{x1:50*t,y1:0,x2:50*t,y2:2e3,stroke:Ge?"rgba(255, 255, 255, 0.1)":"rgba(156, 163, 175, 0.1)",strokeWidth:"0.5"},`v-${t}`)),Array.from({length:20},(e,t)=>(0,B.jsx)("line",{x1:0,y1:50*t,x2:2e3,y2:50*t,stroke:Ge?"rgba(255, 255, 255, 0.1)":"rgba(156, 163, 175, 0.1)",strokeWidth:"0.5"},`h-${t}`))]}),(0,B.jsx)("g",{id:"normal-connections",children:Object.values(V).map(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.map(t=>{const l=V[t];if(!l)return null;const s=200*nt,r=80*nt,a=l.x/100*ke,n=60*nt+l.level*s+r/2,i=e.x/100*ke,o=60*nt+e.level*s+r/2,c=n+(o-n)/2;let d=!1;if(J){const l=Wt(J),s=Object.values(V).filter(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.includes(J)}).map(e=>e.id);d=l.includes(t)&&l.includes(e.id)||J===t&&s.includes(e.id)}const x="target"===ee&&U&&It(t,U)&&It(e.id,U),u=$e.includes(t)&&$e.includes(e.id);return d||x||u?null:(0,B.jsx)("path",{d:`M ${a} ${n} L ${a} ${c} L ${i} ${c} L ${i} ${o}`,stroke:Ge?"#484848":"#363636",strokeWidth:et?1.5:1,fill:"none",opacity:.7},`${t}-${e.id}`)})})}),(0,B.jsxs)("g",{id:"highlighted-connections",children:[Object.values(V).map(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.map(t=>{const l=V[t];if(!l)return null;const s=200*nt,r=80*nt,a=l.x/100*ke,n=60*nt+l.level*s+r/2,i=e.x/100*ke,o=60*nt+e.level*s+r/2,c=n+(o-n)/2;let d=!1;if(J){const l=Wt(J),s=Object.values(V).filter(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.includes(J)}).map(e=>e.id);d=l.includes(t)&&l.includes(e.id)||J===t&&s.includes(e.id)}const x="target"===ee&&U&&It(t,U)&&It(e.id,U),u=$e.includes(t)&&$e.includes(e.id);if(x)return null;if(!d&&!u)return null;let h="#DAA520",p=2;return d&&!u&&(h="#ad9469",p=1.5),(0,B.jsx)("path",{d:`M ${a} ${n} L ${a} ${c} L ${i} ${c} L ${i} ${o}`,stroke:h,strokeWidth:et?1*p:p,fill:"none",opacity:1,style:{filter:u?"drop-shadow(0 0 8px #DAA520)":"none"}},`${t}-${e.id}-highlight`)})}),U&&Object.values(V).map(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.map(t=>{const l=V[t];if(!l)return null;if(!(It(t,U)&&It(e.id,U)))return null;const s=200*nt,r=80*nt,a=l.x/100*ke,n=60*nt+l.level*s+r/2,i=e.x/100*ke,o=60*nt+e.level*s+r/2,c=n+(o-n)/2;return(0,B.jsx)("path",{d:`M ${a} ${n} L ${a} ${c} L ${i} ${c} L ${i} ${o}`,stroke:"#e0cf6fff",strokeWidth:2,fill:"none",opacity:1},`${t}-${e.id}-target`)})})]}),oe&&de&&J&&J!==de&&(()=>{const e=V[de],t=V[J];if(!e||!t)return null;const l=e.x/100*ke,s=150+200*e.level+40,r=t.x/100*ke,a=150+200*t.level+40;return(0,B.jsx)("path",{d:`M ${l} ${s} L ${r} ${a}`,stroke:Et(de,J)?"rgba(34, 197, 94, 0.6)":"rgba(239, 68, 68, 0.6)",strokeWidth:"1.5",strokeDasharray:"8 4",fill:"none"})})()]})}),(0,B.jsxs)("div",{style:{transform:et?`translate(${ve.x}px, ${ve.y}px) scale(${ot})`:`translate(${ve.x}px, ${ve.y}px)`,transformOrigin:"0 0",position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[le&&(0,B.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,B.jsx)("div",{className:"absolute top-0 bottom-0 left-0 w-[25%] bg-blue-500/5 border-r border-blue-500/20",children:(0,B.jsx)("span",{className:"absolute top-4 left-4 text-xs text-blue-500/50",children:"\uad6c\ucd95"})}),(0,B.jsx)("div",{className:"absolute top-0 bottom-0 left-[25%] w-[50%] bg-gray-500/5 border-r border-gray-500/20",children:(0,B.jsx)("span",{className:"absolute top-4 left-4 text-xs text-gray-500/50",children:"\ubcf5\ud569"})}),(0,B.jsx)("div",{className:"absolute top-0 bottom-0 left-[75%] w-[25%] bg-green-500/5",children:(0,B.jsx)("span",{className:"absolute top-4 left-4 text-xs text-green-500/50",children:"\uc6b4\uc601"})})]}),[0,1,2,3,4,5,6].map(e=>(0,B.jsx)("div",{className:"absolute left-0 right-0 border-t-2 border-dashed",style:{top:60*nt+200*e*nt-40*nt+"px",borderColor:"rgba(107, 114, 128, 0.15)"},children:(0,B.jsxs)("span",{className:"absolute -top-3 left-4 px-2 bg-black text-gray-400",style:{fontSize:12*nt+"px"},children:[0===e&&"\uc785\ubb38 (1-3\ub144\ucc28)",1===e&&"\uccb4\uacc4\ud654 (4-7\ub144\ucc28)",2===e&&"\uc804\ubb38\ud654 (8-12\ub144\ucc28)",3===e&&"\uc8fc\ub3c4\ud654 (13-18\ub144\ucc28)",4===e&&"\ucc28\ubcc4\ud654 (20\ub144\ucc28+)",5===e&&"\uc804\ub7b5\ud654 (25\ub144\ucc28+)",6===e&&"\ucd5c\uace0 \uacbd\uc601\uc790"]})},e)),le&&(0,B.jsx)("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%",transform:et?`scale(${ot})`:"none",transformOrigin:"0 0"},children:Object.values(V).map(e=>{var t;return null===(t=e.parents)||void 0===t?void 0:t.map(t=>{const l=V[t];if(!l)return null;const s=ke,r=l.x/100*s,a=60*nt+200*l.level*nt+40*nt,n=e.x/100*s,i=60*nt+200*e.level*nt+40*nt,o=a+(i-a)/2,c=`${t}-${e.id}`,d=rt===c;return(0,B.jsxs)("g",{children:[(0,B.jsx)("path",{d:`M ${r} ${a} L ${r} ${o} L ${n} ${o} L ${n} ${i}`,stroke:"transparent",strokeWidth:"20",fill:"none",className:"pointer-events-auto cursor-pointer",onClick:()=>Dt(t,e.id),onMouseEnter:()=>at(c),onMouseLeave:()=>at(null)}),(0,B.jsx)("path",{d:`M ${r} ${a} L ${r} ${o} L ${n} ${o} L ${n} ${i}`,stroke:d?"#EF4444":"transparent",strokeWidth:d?"3":"0",fill:"none",className:"pointer-events-none",strokeDasharray:d?"5,5":"none"}),d&&(0,B.jsxs)("g",{transform:`translate(${(r+n)/2}, ${o})`,children:[(0,B.jsx)("circle",{r:"12",fill:"#EF4444"}),(0,B.jsx)("text",{x:"0",y:"0",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"16",fontWeight:"bold",className:"pointer-events-none select-none",children:"\xd7"})]})]},c)})})}),Bt.map(e=>{const t=200*nt,l=60*nt+e.level*t,s=Kt(e),r=U&&It(e.id,U),n=re===e.id||$e.includes(e.id);return(0,B.jsxs)("div",{id:`node-${e.id}`,className:`absolute transition-all duration-300 ${s?"opacity-100":"opacity-20"} ${!le||le?"cursor-pointer":"cursor-default"}`,style:{left:`calc(${e.x}% - ${(et?140*nt:188*nt)/2}px)`,top:`${l}px`,zIndex:r||n?50:J===e.id?40:30,...et&&{pointerEvents:"auto",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"}},draggable:le,onDragStart:t=>Ft(t,e.id),onMouseEnter:()=>!et&&Z(e.id),onMouseLeave:()=>!et&&Z(null),onClick:t=>{t.stopPropagation(),Ht(e.id,t)},onDoubleClick:()=>{le&&ie(e.id)},onContextMenu:t=>Ct(t,e.id),role:"button",tabIndex:0,"aria-label":`${e.title} - ${e.year} - ${e.salary}`,"aria-selected":n,children:[(J===e.id||r||n)&&(0,B.jsx)("div",{className:"absolute inset-0 w-40 h-40 rounded-full filter blur-3xl opacity-30 pointer-events-none",style:{backgroundColor:Ge?"#FFD700":e.color}}),(0,B.jsxs)("div",{className:"relative backdrop-blur-xl rounded-2xl border transition-all duration-300 "+(U===e.id||n?"bg-gray-600/30 border-gray-400/50 shadow-2xl scale-105":r?"bg-gray-700/30 border-gray-500/50 shadow-xl":de===e.id?"bg-gray-600/30 border-gray-400/50 shadow-2xl scale-110":J===e.id?"bg-black/80 border-gray-600/50 scale-105":"bg-black/70 border-gray-700/50"),style:{width:et?140*nt+"px":188*nt+"px",padding:et?12*nt+"px":14*nt+"px",fontSize:12*nt+"px",...et&&{paddingTop:16*nt+"px",paddingBottom:16*nt+"px",minHeight:80*nt+"px",pointerEvents:"auto",WebkitTapHighlightColor:"transparent"},boxShadow:U===e.id?"0 0 10px #e0cf6f, 0 0 20px #e0cf6f":r?"0 0 0px #e0cf6f, 0 0 5px #e0cf6f":"none"},children:[le&&J===e.id&&(0,B.jsxs)("div",{className:"absolute -top-3 -right-3 flex space-x-1",children:[(0,B.jsx)("button",{onClick:t=>{t.stopPropagation(),ie(e.id)},className:"w-7 h-7 bg-gray-700 hover:bg-gray-600 rounded-full flex items-center justify-center transition-colors",title:"\ud3b8\uc9d1",children:(0,B.jsx)(A,{className:"w-3 h-3"})}),(0,B.jsx)("button",{onClick:t=>{t.stopPropagation(),Mt(e.id)},className:"w-7 h-7 bg-gray-700 hover:bg-gray-600 rounded-full flex items-center justify-center transition-colors",title:"\ubcf5\uc81c",children:(0,B.jsx)(T,{className:"w-3 h-3"})}),(0,B.jsx)("button",{onClick:t=>{t.stopPropagation(),zt(e.id)},className:"w-7 h-7 bg-red-700 hover:bg-red-600 rounded-full flex items-center justify-center transition-colors",title:"\uc0ad\uc81c",children:(0,B.jsx)(z,{className:"w-3 h-3"})})]}),$e.includes(e.id)&&(0,B.jsx)("div",{className:"absolute -top-2 -left-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,B.jsx)(L,{className:"w-3 h-3"})}),!$e.includes(e.id)&&(0,B.jsxs)("div",{className:"absolute bg-gray-800 rounded-full flex items-center justify-center font-bold",style:{top:-10*nt+"px",left:-10*nt+"px",width:20*nt+"px",height:20*nt+"px",fontSize:10*nt+"px"},children:["L",e.level]}),oe&&de&&de!==e.id&&(0,B.jsx)("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 w-6 h-6 rounded-full flex items-center justify-center",children:Et(de,e.id)?(0,B.jsx)(L,{className:"w-5 h-5 text-green-500"}):(0,B.jsx)(E,{className:"w-5 h-5 text-red-500"})}),et?(0,B.jsxs)("div",{className:"flex flex-col items-center",children:[(0,B.jsx)("span",{style:{fontSize:18*nt+"px",marginBottom:4*nt+"px"},children:e.icon}),(0,B.jsx)("h3",{className:"font-bold text-center "+(Ge?"text-white":""),style:{fontSize:14*nt+"px",marginBottom:2*nt+"px"},children:e.title}),(0,B.jsx)("p",{className:"text-center "+(Ge?"text-gray-100":"text-gray-300"),style:{fontSize:10*nt+"px"},children:e.salary})]}):(0,B.jsxs)("div",{className:"flex items-start",style:{gap:8*nt+"px"},children:[(0,B.jsx)("span",{style:{fontSize:20*nt+"px"},children:e.icon}),(0,B.jsxs)("div",{className:"flex-1",children:[(0,B.jsx)("h3",{className:"font-bold "+(Ge?"text-white":""),style:{fontSize:16*nt+"px",marginBottom:4*nt+"px"},children:e.title}),(0,B.jsx)("p",{className:""+(Ge?"text-gray-100":"text-gray-300"),style:{fontSize:11*nt+"px",marginTop:4*nt+"px"},children:e.salary})]})]}),!et&&(0,B.jsx)("div",{className:"flex items-center justify-end",style:{marginTop:7*nt+"px"},children:(0,B.jsx)("span",{className:"rounded-full font-medium "+("operation"===e.projectType?"bg-green-600/30 text-green-300 border border-green-500/30":"construction"===e.projectType?"bg-blue-600/30 text-blue-300 border border-blue-500/30":"bg-purple-600/30 text-purple-300 border border-purple-500/30"),style:{fontSize:11*nt+"px",padding:`${3*nt}px ${6*nt}px`},children:"operation"===e.projectType?"\uc6b4\uc601":"construction"===e.projectType?"\uad6c\ucd95":"\ubcf5\ud569"})}),oe&&de===e.id&&(0,B.jsx)("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:(0,B.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"})})]}),J===e.id&&!et&&(0,B.jsxs)("div",{className:"absolute top-0 w-72 p-4 backdrop-blur-xl bg-black/90 rounded-xl border border-gray-700/50 shadow-2xl z-50 "+(e.x>=80?"right-full mr-4":"left-full ml-4"),children:[(0,B.jsx)("h4",{className:"font-bold mb-2",children:e.title}),(0,B.jsx)("p",{className:"text-sm text-gray-300 mb-3",children:e.description}),e.skills&&e.skills.length>0&&(0,B.jsxs)("div",{className:"mb-3",children:[(0,B.jsx)("p",{className:"text-xs font-medium text-gray-400 mb-1",children:"\ud544\uc694 \uc2a4\ud0ac"}),(0,B.jsx)("div",{className:"flex flex-wrap gap-1",children:e.skills.map((e,t)=>(0,B.jsx)("span",{className:"text-xs px-2 py-1 bg-gray-800/50 rounded",children:e},t))})]}),(0,B.jsx)("div",{className:"pt-3 border-t border-gray-700",children:(0,B.jsx)("p",{className:"text-xs text-gray-500",children:le?"\ub354\ube14\ud074\ub9ad: \ud3b8\uc9d1 | \uc6b0\ud074\ub9ad: \uba54\ub274":"\ud074\ub9ad\ud558\uc5ec \ubaa9\ud45c \uc124\uc815"})})]}),et&&be===e.id&&(0,B.jsxs)("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 backdrop-blur-xl bg-black/95 rounded-xl border border-gray-700/50 shadow-2xl z-50 mobile-popup",style:{width:200*ot+"px",padding:12*ot+"px",fontSize:12*ot+"px"},onClick:e=>e.stopPropagation(),children:[(0,B.jsx)("button",{onClick:()=>fe(null),className:"absolute text-gray-400 hover:text-white",style:{top:8*ot+"px",right:8*ot+"px",width:16*ot+"px",height:16*ot+"px"},children:(0,B.jsx)(a,{style:{width:"100%",height:"100%"}})}),(0,B.jsxs)("div",{className:"flex items-center",style:{gap:8*ot+"px",marginBottom:8*ot+"px"},children:[(0,B.jsx)("span",{style:{fontSize:18*ot+"px"},children:e.icon}),(0,B.jsx)("h4",{className:"font-bold text-white",style:{fontSize:14*ot+"px"},children:e.title})]}),(0,B.jsx)("div",{style:{marginBottom:8*ot+"px"},children:(0,B.jsx)("span",{className:"rounded "+("operation"===e.projectType?"bg-green-600/30 text-green-300":"construction"===e.projectType?"bg-blue-600/30 text-blue-300":"bg-purple-600/30 text-purple-300"),style:{fontSize:11*ot+"px",padding:`${2*ot}px ${6*ot}px`,display:"inline-block"},children:"operation"===e.projectType?"\uc6b4\uc601":"construction"===e.projectType?"\uad6c\ucd95":"\ubcf5\ud569"})}),e.description&&(0,B.jsx)("p",{className:"text-gray-300",style:{fontSize:11*ot+"px",marginTop:6*ot+"px",paddingTop:6*ot+"px",borderTopWidth:"1px"},children:e.description}),e.skills&&e.skills.length>0&&(0,B.jsxs)("div",{style:{marginTop:6*ot+"px",paddingTop:6*ot+"px",borderTopWidth:"1px"},children:[(0,B.jsx)("p",{className:"font-medium text-gray-400",style:{fontSize:10*ot+"px",marginBottom:4*ot+"px"},children:"\ud544\uc694 \uc2a4\ud0ac"}),(0,B.jsx)("div",{className:"flex flex-wrap",style:{gap:4*ot+"px"},children:e.skills.map((e,t)=>(0,B.jsx)("span",{className:"bg-gray-800/50 rounded",style:{fontSize:10*ot+"px",padding:`${2*ot}px ${4*ot}px`},children:e},t))})]})]})]},e.id)})]}),Te&&(0,B.jsx)("div",{className:"absolute bottom-4 right-4 w-52 h-40 bg-black/80 rounded-lg border border-gray-700/50 overflow-hidden",children:(0,B.jsx)("canvas",{ref:ht,className:"w-full h-full cursor-pointer",onClick:e=>{const t=e.currentTarget.getBoundingClientRect(),l=(e.clientX-t.left)/t.width,s=(e.clientY-t.top)/t.height;je({x:-l*ut.current.clientWidth+ut.current.clientWidth/2,y:1200*-s+ut.current.clientHeight/2})}})}),Le&&(0,B.jsx)("div",{className:"absolute z-50 bg-gray-900 rounded-lg border border-gray-700 shadow-xl py-2",style:{left:`${De.x}px`,top:`${De.y}px`},children:Be?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("button",{onClick:()=>{ie(Be),Ee(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,B.jsx)(A,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\ud3b8\uc9d1"})]}),(0,B.jsxs)("button",{onClick:()=>{Mt(Be),Ee(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,B.jsx)(T,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\ubcf5\uc81c"})]}),(0,B.jsxs)("button",{onClick:()=>{Pe(V[Be]),Ee(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,B.jsx)(D,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\ubcf5\uc0ac"})]}),(0,B.jsx)("div",{className:"h-px bg-gray-700 my-1"}),(0,B.jsxs)("button",{onClick:()=>{zt(Be),Ee(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2 text-red-400",children:[(0,B.jsx)(z,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\uc0ad\uc81c"})]})]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("button",{onClick:()=>{const e=ut.current.getBoundingClientRect(),t=(De.x-e.left-ve.x)/e.width*100,l=De.y-e.top-ve.y,s=Math.max(0,Math.min(6,Math.floor((l-150)/180))),r=`node_${Date.now()}`,a={id:r,title:"\uc0c8 \uc9c1\ubb34",year:"\uacbd\ub825",salary:"\uc5f0\ubd09",level:s,x:Je?Nt(t):t,projectType:"hybrid",description:"\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",skills:[],parents:[],children:[],color:"#6B7280",icon:"\ud83d\udcbc"};yt(V),Y(e=>({...e,[r]:a})),Ee(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,B.jsx)(p,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\uc5ec\uae30\uc5d0 \ub178\ub4dc \ucd94\uac00"})]}),Fe&&(0,B.jsxs)("button",{onClick:()=>{At(),Ee(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-800 flex items-center space-x-2",children:[(0,B.jsx)(D,{className:"w-4 h-4"}),(0,B.jsx)("span",{children:"\ubd99\uc5ec\ub123\uae30"})]})]})})]}),P&&P({nodes:V,targetNode:U,viewMode:ee}),ne&&(0,B.jsx)(W,{nodeId:ne,nodes:V,isAdminMode:le,onClose:()=>ie(null),onUpdate:(e,t)=>{if(yt(V),le&&t.id&&t.id!==e){const l={...V};delete l[e],l[t.id]={...V[e],...t},Object.values(l).forEach(l=>{var s,r;null!==(s=l.parents)&&void 0!==s&&s.includes(e)&&(l.parents=l.parents.map(l=>l===e?t.id:l)),null!==(r=l.children)&&void 0!==r&&r.includes(e)&&(l.children=l.children.map(l=>l===e?t.id:l))}),Y(l)}else Y(l=>({...l,[e]:{...l[e],...t}}));ge(!0),ie(null)}}),Me&&(0,B.jsx)(I,{nodes:V,onSelect:Ot,onClose:()=>Ae(!1)}),Xe&&(0,B.jsx)(K,{templates:Ve,onSelectTemplate:Vt,onClose:()=>qe(!1)}),pe&&(0,B.jsx)(R,{onSuccess:()=>{se(!0),me(!1)},onClose:()=>me(!1)})]})}}}]);
//# sourceMappingURL=647.a054e373.chunk.js.map